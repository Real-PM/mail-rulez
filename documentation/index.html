<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail-Rulez User Guide</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .sidebar {
            min-height: 100vh;
            background-color: #f8f9fa;
            border-right: 1px solid #dee2e6;
        }
        .nav-pills .nav-link.active {
            background-color: #0d6efd;
        }
        .nav-pills .nav-link {
            color: #495057;
            margin-bottom: 5px;
        }
        .nav-pills .nav-link:hover {
            background-color: #e9ecef;
        }
        .screenshot-placeholder {
            background-color: #f8f9fa;
            border: 2px dashed #dee2e6;
            padding: 40px;
            text-align: center;
            margin: 20px 0;
            border-radius: 8px;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .brand-logo {
            max-width: 150px;
            margin-bottom: 20px;
        }
        code {
            background-color: #f8f9fa;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar Navigation -->
            <nav class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <div class="text-center">
                        <img src="../web/static/img/mailrulez.png" alt="Mail-Rulez Logo" class="brand-logo img-fluid">
                        <h5 class="text-primary">User Guide</h5>
                    </div>
                    
                    <ul class="nav nav-pills flex-column mb-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#introduction" data-section="introduction">
                                <i class="fas fa-home me-2"></i>Introduction
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#installation" data-section="installation">
                                <i class="fas fa-download me-2"></i>Installation
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#hosting" data-section="hosting">
                                <i class="fas fa-cloud me-2"></i>RealPM Hosting
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#webapp-overview" data-section="webapp-overview">
                                <i class="fas fa-desktop me-2"></i>Web App Overview
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#user-journey" data-section="user-journey">
                                <i class="fas fa-route me-2"></i>User Journey
                            </a>
                        </li>
                        <li class="nav-item ms-3">
                            <a class="nav-link" href="#adding-accounts" data-section="adding-accounts">
                                <i class="fas fa-user-plus me-2"></i>Adding Accounts
                            </a>
                        </li>
                        <li class="nav-item ms-3">
                            <a class="nav-link" href="#adding-folders" data-section="adding-folders">
                                <i class="fas fa-folder-plus me-2"></i>Adding Folders
                            </a>
                        </li>
                        <li class="nav-item ms-3">
                            <a class="nav-link" href="#creating-rules" data-section="creating-rules">
                                <i class="fas fa-magic me-2"></i>Creating Rules
                            </a>
                        </li>
                        <li class="nav-item ms-3">
                            <a class="nav-link" href="#list-management" data-section="list-management">
                                <i class="fas fa-list me-2"></i>List Management
                            </a>
                        </li>
                        <li class="nav-item ms-3">
                            <a class="nav-link" href="#troubleshooting" data-section="troubleshooting">
                                <i class="fas fa-tools me-2"></i>Troubleshooting
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#security" data-section="security">
                                <i class="fas fa-shield-alt me-2"></i>Security
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">Mail-Rulez Documentation</h1>
                </div>

                <!-- Introduction Section -->
                <div id="introduction" class="content-section active">
                    <div class="row">
                        <div class="col-lg-8">
                            <h2><i class="fas fa-home text-primary"></i> Introduction</h2>
                            
                            <h3>What is Mail-Rulez?</h3>
                            <p class="lead">Mail-Rulez is an intelligent IMAP mailbox management system that transforms the way you handle email. It's designed to automate email processing through sophisticated rules-based filtering, comprehensive list management, and smart folder organization.</p>
                            
                            <p>Originally developed as a single-user terminal application, Mail-Rulez has evolved into a modern, containerized web application that's ready for both personal use and enterprise deployment. Whether you're managing one email account or hundreds, Mail-Rulez provides the tools and automation you need to stay organized and productive.</p>

                            <h3>Why Do You Need Mail-Rulez?</h3>
                            
                            <h4><i class="fas fa-envelope-open-text text-success"></i> Email Overload Solution</h4>
                            <p>Modern email inboxes are overwhelming. Between newsletters, notifications, promotional emails, and actual important communications, it's easy to miss critical messages or waste time sorting through clutter. Mail-Rulez solves this by automatically categorizing, filtering, and organizing your emails based on rules you define.</p>

                            <h4><i class="fas fa-robot text-info"></i> Intelligent Automation</h4>
                            <p>Mail-Rulez goes beyond simple email filters. It provides:</p>
                            <ul>
                                <li><strong>Smart Rule Processing:</strong> Complex conditional logic for email handling</li>
                                <li><strong>List-Based Management:</strong> Whitelist trusted senders, blacklist unwanted ones, and manage vendor communications</li>
                                <li><strong>Folder Organization:</strong> Automatic filing of emails into appropriate folders</li>
                                <li><strong>Background Processing:</strong> Continuous monitoring and processing of new emails</li>
                            </ul>

                            <h4><i class="fas fa-users text-warning"></i> Multi-Account Management</h4>
                            <p>If you manage multiple email accounts (personal, work, different projects), Mail-Rulez centralizes management while keeping accounts logically separated. Process all your accounts from a single interface with account-specific rules and settings.</p>

                            <h4><i class="fas fa-shield-alt text-danger"></i> Privacy and Control</h4>
                            <p>Unlike cloud-based email management services, Mail-Rulez runs on your own infrastructure. Your emails never leave your control, and you maintain complete privacy over your communications while still getting powerful automation features.</p>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-3x text-muted mb-3"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Mail-Rulez Dashboard Overview showing processing statistics and system status</p>
                            </div>

                            <h3>Key Benefits</h3>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="fas fa-clock text-primary"></i> Time Savings</h5>
                                            <p class="card-text">Automatically process and organize thousands of emails without manual intervention. Focus on important communications instead of email management.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="fas fa-crosshairs text-success"></i> Precision Control</h5>
                                            <p class="card-text">Fine-grained rules and multiple list types give you exact control over how different types of emails are handled.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="fas fa-expand-arrows-alt text-info"></i> Scalability</h5>
                                            <p class="card-text">Handle everything from a single personal account to enterprise-level email processing across multiple domains and accounts.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="fas fa-eye text-warning"></i> Transparency</h5>
                                            <p class="card-text">Comprehensive logging and reporting show exactly what actions were taken on your emails and why.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-info mt-4">
                                <h5><i class="fas fa-lightbulb"></i> Perfect For:</h5>
                                <ul class="mb-0">
                                    <li>Professionals managing multiple email accounts</li>
                                    <li>Small businesses needing centralized email management</li>
                                    <li>Privacy-conscious users who want to avoid cloud email services</li>
                                    <li>IT administrators setting up email automation for teams</li>
                                    <li>Anyone overwhelmed by email volume and looking for smart automation</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Additional sections will be added here -->
                <div id="installation" class="content-section">
                    <div class="row">
                        <div class="col-lg-10">
                            <h2><i class="fas fa-download text-primary"></i> Installation</h2>
                            
                            <p class="lead">Mail-Rulez offers multiple installation methods to suit different needs and technical expertise levels. Choose the method that works best for your environment.</p>

                            <div class="alert alert-success">
                                <h5><i class="fas fa-rocket"></i> Quick Start (Recommended)</h5>
                                <p class="mb-0">For most users, the <strong>Simple Docker Deployment</strong> is the fastest way to get Mail-Rulez running with minimal configuration.</p>
                            </div>

                            <h3>System Requirements</h3>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <h5><i class="fas fa-server text-info"></i> Minimum Requirements</h5>
                                    <ul>
                                        <li><strong>RAM:</strong> 512MB minimum</li>
                                        <li><strong>Storage:</strong> 1GB free space</li>
                                        <li><strong>Network:</strong> Internet access for email servers</li>
                                        <li><strong>Ports:</strong> Port 5001 available (configurable)</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h5><i class="fas fa-tools text-warning"></i> Software Requirements</h5>
                                    <ul>
                                        <li><strong>Docker:</strong> 20.10+ (recommended method)</li>
                                        <li><strong>OR Python:</strong> 3.9+ (for local installation)</li>
                                        <li><strong>IMAP Access:</strong> To your email accounts</li>
                                        <li><strong>OS:</strong> Linux, macOS, or Windows with Docker</li>
                                    </ul>
                                </div>
                            </div>

                            <hr class="my-4">

                            <h3><i class="fas fa-shipping-fast text-success"></i> Method 1: Simple Docker Deployment (Recommended)</h3>
                            
                            <p>This method requires <strong>zero configuration</strong> and is perfect for getting started quickly. All necessary security keys and settings are generated automatically.</p>

                            <h4>Step 1: Get Mail-Rulez</h4>
                            <div class="code-block">
# Clone the Mail-Rulez repository<br>
git clone https://github.com/Real-PM/mail-rulez.git<br>
cd mail-rulez/docker
                            </div>

                            <h4>Step 2: Deploy</h4>
                            <div class="code-block">
# Run the simple deployment script<br>
./deploy-simple.sh
                            </div>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Terminal showing successful deployment with green checkmarks and "Access your Mail-Rulez instance at: http://localhost:5001"</p>
                            </div>

                            <h4>Step 3: Access Mail-Rulez</h4>
                            <p>Open your web browser and navigate to <code>http://localhost:5001</code>. You'll be prompted to create your admin account on first access.</p>

                            <div class="alert alert-info">
                                <h6><i class="fas fa-info-circle"></i> What the Simple Deployment Does:</h6>
                                <ul class="mb-0">
                                    <li>Builds the Mail-Rulez Docker image</li>
                                    <li>Generates secure encryption keys automatically</li>
                                    <li>Creates Docker volumes for data persistence</li>
                                    <li>Starts the application on port 5001</li>
                                    <li>Sets up health monitoring and logging</li>
                                </ul>
                            </div>

                            <hr class="my-4">

                            <h3><i class="fas fa-cogs text-primary"></i> Method 2: Custom Docker Deployment</h3>
                            
                            <p>For users who want more control over configuration, environment variables, and deployment settings.</p>

                            <h4>Step 1: Generate Environment Configuration</h4>
                            <div class="code-block">
# Navigate to the docker directory<br>
cd mail-rulez/docker<br>
<br>
# Generate custom environment file<br>
python scripts/generate_environment.py<br>
<br>
# This creates a .env file with secure, random keys
                            </div>

                            <h4>Step 2: Customize Settings (Optional)</h4>
                            <p>Edit the generated <code>.env</code> file to customize:</p>
                            <ul>
                                <li><strong>Port:</strong> Change FLASK_PORT from default 5001</li>
                                <li><strong>Log Level:</strong> Adjust logging verbosity</li>
                                <li><strong>Security Keys:</strong> Use your own keys if desired</li>
                            </ul>

                            <div class="code-block">
# Example .env customizations<br>
FLASK_PORT=8080                    # Use different port<br>
MAIL_RULEZ_LOG_LEVEL=DEBUG        # More verbose logging<br>
MAIL_RULEZ_LOG_RETENTION_DAYS=60  # Keep logs longer
                            </div>

                            <h4>Step 3: Deploy with Docker Compose</h4>
                            <div class="code-block">
# Deploy using the main docker-compose file<br>
docker-compose -f docker-compose.yml up -d<br>
<br>
# Or use the universal deployment script<br>
./deploy-universal.sh
                            </div>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Docker Desktop showing mail-rulez container running with green status</p>
                            </div>

                            <hr class="my-4">

                            <h3><i class="fas fa-code text-info"></i> Method 3: Local Python Installation</h3>
                            
                            <p>For developers or users who prefer running Mail-Rulez directly with Python, without Docker containerization.</p>

                            <div class="alert alert-warning">
                                <h6><i class="fas fa-exclamation-triangle"></i> Note:</h6>
                                <p class="mb-0">This method requires more manual configuration and is recommended for development or advanced users familiar with Python environments.</p>
                            </div>

                            <h4>Step 1: Set Up Python Environment</h4>
                            <div class="code-block">
# Create virtual environment<br>
python -m venv ~/virtual-envs/mail-rulez<br>
<br>
# Activate the environment<br>
source ~/virtual-envs/mail-rulez/bin/activate  # Linux/Mac<br>
# OR<br>
~/virtual-envs/mail-rulez/Scripts/activate     # Windows<br>
<br>
# Install dependencies<br>
cd mail-rulez<br>
pip install -r requirements.txt
                            </div>

                            <h4>Step 2: Configure Environment</h4>
                            <div class="code-block">
# Copy the template environment file<br>
cp env-template .env<br>
<br>
# Edit .env file with your settings<br>
# Required: FLASK_SECRET_KEY and MASTER_KEY
                            </div>

                            <h4>Step 3: Run Mail-Rulez</h4>
                            <div class="code-block">
# Start the web application<br>
cd web<br>
python app.py<br>
<br>
# Mail-Rulez will be available at http://localhost:5001
                            </div>

                            <hr class="my-4">

                            <h3><i class="fas fa-check-circle text-success"></i> Verifying Your Installation</h3>
                            
                            <p>After installation, verify that Mail-Rulez is working properly:</p>

                            <ol>
                                <li><strong>Access the Web Interface:</strong> Navigate to <code>http://localhost:5001</code> (or your custom port)</li>
                                <li><strong>Check System Status:</strong> Visit <code>http://localhost:5001/api/status</code> for a health check</li>
                                <li><strong>Create Admin Account:</strong> Follow the setup wizard on first access</li>
                                <li><strong>Review Logs:</strong> Check that the application started without errors</li>
                            </ol>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Mail-Rulez first-time setup screen with admin account creation form</p>
                            </div>

                            <h4>Docker Installation Verification</h4>
                            <div class="code-block">
# Check container status<br>
docker ps | grep mail-rulez<br>
<br>
# View application logs<br>
docker logs mail-rulez-simple<br>
<br>
# Access container shell (if needed)<br>
docker exec -it mail-rulez-simple /bin/bash
                            </div>

                            <h3><i class="fas fa-tools text-warning"></i> Troubleshooting Installation</h3>
                            
                            <h4>Common Issues and Solutions</h4>
                            
                            <div class="accordion" id="troubleshootingAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue1">
                                            Port 5001 Already in Use
                                        </button>
                                    </h2>
                                    <div id="issue1" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Solution:</strong> Change the port in your deployment:</p>
                                            <div class="code-block">
# For Docker: Edit docker-compose file<br>
ports:<br>
  - "8080:5001"  # Use port 8080 instead<br>
<br>
# For Python: Set environment variable<br>
export FLASK_PORT=8080
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue2">
                                            Docker Build Fails
                                        </button>
                                    </h2>
                                    <div id="issue2" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Solutions:</strong></p>
                                            <ul>
                                                <li>Ensure Docker is running and up to date</li>
                                                <li>Check available disk space (need at least 1GB)</li>
                                                <li>Try building with <code>--no-cache</code> flag</li>
                                                <li>Check network connectivity for downloading dependencies</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue3">
                                            Cannot Access Web Interface
                                        </button>
                                    </h2>
                                    <div id="issue3" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Check these items:</strong></p>
                                            <ul>
                                                <li>Verify the container/process is running</li>
                                                <li>Confirm the correct port (default: 5001)</li>
                                                <li>Check firewall settings</li>
                                                <li>Try accessing via <code>127.0.0.1</code> instead of <code>localhost</code></li>
                                                <li>Review application logs for errors</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-info mt-4">
                                <h5><i class="fas fa-question-circle"></i> Need Help?</h5>
                                <p class="mb-0">If you encounter issues not covered here, check the <a href="#troubleshooting" class="nav-link d-inline p-0" data-section="troubleshooting">Troubleshooting section</a> or open an issue on the <a href="https://github.com/Real-PM/mail-rulez" target="_blank">Mail-Rulez GitHub repository</a>.</p>
                            </div>

                            <h3><i class="fas fa-arrow-right text-primary"></i> Next Steps</h3>
                            <p>Once Mail-Rulez is installed and running:</p>
                            <ol>
                                <li>Complete the initial setup wizard</li>
                                <li>Add your first email account</li>
                                <li>Create IMAP folders for organization</li>
                                <li>Set up your first processing rules</li>
                            </ol>
                            
                            <p>Continue to the <a href="#webapp-overview" class="nav-link d-inline p-0" data-section="webapp-overview">Web App Overview</a> to learn about the interface, or jump directly to the <a href="#user-journey" class="nav-link d-inline p-0" data-section="user-journey">User Journey</a> to start configuring your email automation.</p>
                        </div>
                    </div>
                </div>

                <div id="hosting" class="content-section">
                    <div class="row">
                        <div class="col-lg-10">
                            <h2><i class="fas fa-cloud text-primary"></i> RealPM Hosting</h2>
                            
                            <p class="lead">Don't want to manage your own Mail-Rulez installation? Let RealPM handle the hosting, maintenance, and updates for you with our fully managed Mail-Rulez service.</p>

                            <div class="alert alert-info">
                                <h5><i class="fas fa-info-circle"></i> Coming Soon</h5>
                                <p class="mb-0">The RealPM hosted service is currently in development. Sign up for our mailing list to be notified when it becomes available.</p>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-star text-warning"></i> Why Choose RealPM Hosting?</h3>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card h-100 border-success">
                                        <div class="card-body">
                                            <h5 class="card-title text-success"><i class="fas fa-tools"></i> Zero Maintenance</h5>
                                            <ul class="card-text">
                                                <li>No server management required</li>
                                                <li>Automatic updates and security patches</li>
                                                <li>Professional monitoring and support</li>
                                                <li>99.9% uptime guarantee</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100 border-info">
                                        <div class="card-body">
                                            <h5 class="card-title text-info"><i class="fas fa-shield-alt"></i> Enterprise Security</h5>
                                            <ul class="card-text">
                                                <li>Industry-standard encryption</li>
                                                <li>Secure hosting infrastructure</li>
                                                <li>Regular security assessments</li>
                                                <li>Multiple data center options</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card h-100 border-warning">
                                        <div class="card-body">
                                            <h5 class="card-title text-warning"><i class="fas fa-rocket"></i> Premium Features</h5>
                                            <ul class="card-text">
                                                <li>Advanced analytics and reporting</li>
                                                <li>API access for integrations</li>
                                                <li>Priority support and training</li>
                                                <li>Custom domain support</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100 border-primary">
                                        <div class="card-body">
                                            <h5 class="card-title text-primary"><i class="fas fa-expand-arrows-alt"></i> Scalable Plans</h5>
                                            <ul class="card-text">
                                                <li>Individual to enterprise pricing</li>
                                                <li>Pay-as-you-grow model</li>
                                                <li>Volume discounts available</li>
                                                <li>Flexible billing options</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-user text-primary"></i> Service Plans</h3>
                            </div>
                            
                            <div class="alert alert-warning">
                                <h6><i class="fas fa-construction"></i> Pricing Under Development</h6>
                                <p class="mb-0">Final pricing and plan details are being finalized. The information below represents our planned offerings and may change before launch.</p>
                            </div>

                            <div class="row">
                                <div class="col-lg-4">
                                    <div class="card text-center h-100">
                                        <div class="card-header bg-light">
                                            <h5 class="card-title text-primary">Personal</h5>
                                            <p class="text-muted">For individual users</p>
                                        </div>
                                        <div class="card-body">
                                            <h3 class="text-success">$9.99<small class="text-muted">/month</small></h3>
                                            <ul class="list-unstyled">
                                                <li><i class="fas fa-check text-success"></i> Up to 3 email accounts</li>
                                                <li><i class="fas fa-check text-success"></i> Unlimited rules and lists</li>
                                                <li><i class="fas fa-check text-success"></i> Web interface access</li>
                                                <li><i class="fas fa-check text-success"></i> Email support</li>
                                                <li><i class="fas fa-check text-success"></i> 99.5% uptime SLA</li>
                                            </ul>
                                        </div>
                                        <div class="card-footer">
                                            <button class="btn btn-outline-primary" disabled>Coming Soon</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-lg-4">
                                    <div class="card text-center h-100 border-primary">
                                        <div class="card-header bg-primary text-white">
                                            <h5 class="card-title">Professional</h5>
                                            <p class="mb-0">Most popular choice</p>
                                        </div>
                                        <div class="card-body">
                                            <h3 class="text-success">$24.99<small class="text-muted">/month</small></h3>
                                            <ul class="list-unstyled">
                                                <li><i class="fas fa-check text-success"></i> Up to 10 email accounts</li>
                                                <li><i class="fas fa-check text-success"></i> Advanced rule builder</li>
                                                <li><i class="fas fa-check text-success"></i> API access</li>
                                                <li><i class="fas fa-check text-success"></i> Priority support</li>
                                                <li><i class="fas fa-check text-success"></i> 99.9% uptime SLA</li>
                                                <li><i class="fas fa-check text-success"></i> Custom domain</li>
                                            </ul>
                                        </div>
                                        <div class="card-footer">
                                            <button class="btn btn-primary" disabled>Coming Soon</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-lg-4">
                                    <div class="card text-center h-100">
                                        <div class="card-header bg-dark text-white">
                                            <h5 class="card-title">Enterprise</h5>
                                            <p class="mb-0">For teams and organizations</p>
                                        </div>
                                        <div class="card-body">
                                            <h3 class="text-success">Contact Us</h3>
                                            <ul class="list-unstyled">
                                                <li><i class="fas fa-check text-success"></i> Unlimited accounts</li>
                                                <li><i class="fas fa-check text-success"></i> White-label options</li>
                                                <li><i class="fas fa-check text-success"></i> Dedicated support</li>
                                                <li><i class="fas fa-check text-success"></i> Custom integrations</li>
                                                <li><i class="fas fa-check text-success"></i> 99.99% uptime SLA</li>
                                                <li><i class="fas fa-check text-success"></i> On-premise deployment</li>
                                            </ul>
                                        </div>
                                        <div class="card-footer">
                                            <button class="btn btn-outline-dark" disabled>Contact Sales</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-globe text-info"></i> Your Mail-Rulez URL</h3>
                            </div>
                            
                            <p>When you sign up for RealPM hosting, you'll receive a personalized URL to access your Mail-Rulez instance:</p>
                            
                            <div class="code-block">
https://yourname.mail-rulez.com
                            </div>
                            
                            <p>Professional and Enterprise plans can also use custom domains:</p>
                            
                            <div class="code-block">
https://mail.yourcompany.com
                            </div>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> RealPM hosted Mail-Rulez login screen with custom branding and subdomain URL</p>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-database text-warning"></i> Data Ownership & Privacy</h3>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <h5><i class="fas fa-user-shield text-success"></i> Your Data Remains Yours</h5>
                                    <ul>
                                        <li>You retain full ownership of all email data</li>
                                        <li>Export your data at any time</li>
                                        <li>Delete your account and data completely</li>
                                        <li>No vendor lock-in</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h5><i class="fas fa-lock text-info"></i> Privacy Protection</h5>
                                    <ul>
                                        <li>Your emails are never read by humans</li>
                                        <li>End-to-end encryption in transit and at rest</li>
                                        <li>GDPR and CCPA compliant</li>
                                        <li>No advertising or data mining</li>
                                    </ul>
                                </div>
                            </div>

                            <h3><i class="fas fa-sync-alt text-primary"></i> Migration & Setup</h3>
                            
                            <p>Switching from self-hosted to RealPM hosting (or vice versa) is straightforward:</p>
                            
                            <div class="accordion" id="migrationAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#migration1">
                                            <i class="fas fa-upload me-2"></i>From Self-Hosted to RealPM
                                        </button>
                                    </h2>
                                    <div id="migration1" class="accordion-collapse collapse show" data-bs-parent="#migrationAccordion">
                                        <div class="accordion-body">
                                            <ol>
                                                <li><strong>Export your configuration:</strong> Use the built-in export feature to package your rules, lists, and settings</li>
                                                <li><strong>Sign up for RealPM hosting:</strong> Choose your plan and complete registration</li>
                                                <li><strong>Import your data:</strong> Use the setup wizard to import your exported configuration</li>
                                                <li><strong>Update email settings:</strong> Point your email accounts to the new hosted instance</li>
                                                <li><strong>Verify operation:</strong> Test that all rules and processing work as expected</li>
                                            </ol>
                                            <p class="text-success"><i class="fas fa-info-circle"></i> Migration assistance is included with Professional and Enterprise plans.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#migration2">
                                            <i class="fas fa-download me-2"></i>From RealPM to Self-Hosted
                                        </button>
                                    </h2>
                                    <div id="migration2" class="accordion-collapse collapse" data-bs-parent="#migrationAccordion">
                                        <div class="accordion-body">
                                            <ol>
                                                <li><strong>Download Mail-Rulez:</strong> Get the latest version from GitHub</li>
                                                <li><strong>Export from RealPM:</strong> Use your hosted account to export all configurations</li>
                                                <li><strong>Install locally:</strong> Follow the installation guide for your preferred method</li>
                                                <li><strong>Import configuration:</strong> Load your exported data into your local instance</li>
                                                <li><strong>Cancel RealPM subscription:</strong> Your data remains available for 30 days after cancellation</li>
                                            </ol>
                                            <p class="text-info"><i class="fas fa-info-circle"></i> No penalties for moving to self-hosted - we believe in giving you complete control.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <h3><i class="fas fa-headset text-success"></i> Support & Service Level</h3>
                            
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead class="table-dark">
                                        <tr>
                                            <th>Feature</th>
                                            <th>Personal</th>
                                            <th>Professional</th>
                                            <th>Enterprise</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong>Support Method</strong></td>
                                            <td>Email</td>
                                            <td>Email + Chat</td>
                                            <td>Phone + Email + Chat</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Response Time</strong></td>
                                            <td>48 hours</td>
                                            <td>24 hours</td>
                                            <td>4 hours</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Setup Assistance</strong></td>
                                            <td>Documentation</td>
                                            <td>1-hour session</td>
                                            <td>Full setup service</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Uptime SLA</strong></td>
                                            <td>99.5%</td>
                                            <td>99.9%</td>
                                            <td>99.99%</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Backup Retention</strong></td>
                                            <td>7 days</td>
                                            <td>30 days</td>
                                            <td>1 year</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="alert alert-primary mt-4">
                                <h5><i class="fas fa-envelope"></i> Stay Updated</h5>
                                <p>Want to be notified when RealPM hosting becomes available?</p>
                                <p class="mb-0">Email us at <strong>hosting@mail-rulez.com</strong> to join our early access list and receive:</p>
                                <ul class="mt-2 mb-0">
                                    <li>Launch notification with special pricing</li>
                                    <li>Beta access opportunity</li>
                                    <li>Priority setup assistance</li>
                                    <li>Extended free trial period</li>
                                </ul>
                            </div>

                            <h3><i class="fas fa-balance-scale text-info"></i> Hosted vs Self-Hosted Comparison</h3>
                            
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Aspect</th>
                                            <th class="text-primary">RealPM Hosted</th>
                                            <th class="text-success">Self-Hosted</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong>Setup Time</strong></td>
                                            <td>5 minutes</td>
                                            <td>30-60 minutes</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Maintenance</strong></td>
                                            <td>None required</td>
                                            <td>Updates, backups, monitoring</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Cost</strong></td>
                                            <td>Monthly subscription</td>
                                            <td>Server costs + time</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Control</strong></td>
                                            <td>Managed service</td>
                                            <td>Full control</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Customization</strong></td>
                                            <td>Limited to service options</td>
                                            <td>Unlimited</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Support</strong></td>
                                            <td>Professional support included</td>
                                            <td>Community + documentation</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <p>Both options use the same Mail-Rulez software with identical features. Choose based on your preferences for convenience vs. control.</p>

                            <div class="text-center mt-4">
                                <p class="lead">Questions about RealPM hosting?</p>
                                <p>Contact us at <strong>sales@realpm.net</strong> or visit <a href="https://www.realpm.net" target="_blank">www.realpm.net</a></p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="webapp-overview" class="content-section">
                    <div class="row">
                        <div class="col-lg-10">
                            <h2><i class="fas fa-desktop text-primary"></i> Web App Overview</h2>
                            
                            <p class="lead">Mail-Rulez provides a modern, responsive web interface that puts complete email management control at your fingertips. The intuitive design makes complex email automation accessible to users of all technical levels.</p>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-3x text-muted mb-3"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Mail-Rulez dashboard showing navigation menu, system statistics cards, and recent activity feed</p>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-compass text-info"></i> Navigation Structure</h3>
                            </div>
                            
                            <p>The web interface is organized around five main sections, accessible through the top navigation bar:</p>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card h-100 border-primary">
                                        <div class="card-body">
                                            <h5 class="card-title text-primary"><i class="fas fa-tachometer-alt"></i> Dashboard</h5>
                                            <p class="card-text">Your central command center showing system statistics, processing activity, and real-time monitoring data.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100 border-success">
                                        <div class="card-body">
                                            <h5 class="card-title text-success"><i class="fas fa-user-cog"></i> Accounts</h5>
                                            <p class="card-text">Manage your email accounts, configure IMAP settings, create folders, and control processing services.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card h-100 border-warning">
                                        <div class="card-body">
                                            <h5 class="card-title text-warning"><i class="fas fa-list-ul"></i> Lists</h5>
                                            <p class="card-text">Organize email senders into categories: whitelist trusted contacts, blacklist unwanted senders, manage vendor lists.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100 border-info">
                                        <div class="card-body">
                                            <h5 class="card-title text-info"><i class="fas fa-cogs"></i> Rules</h5>
                                            <p class="card-text">Create sophisticated email processing rules with conditions and actions to automate your email workflow.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card h-100 border-secondary">
                                        <div class="card-body">
                                            <h5 class="card-title text-secondary"><i class="fas fa-file-alt"></i> Logs</h5>
                                            <p class="card-text">Monitor system activity, troubleshoot issues, and track email processing with comprehensive logging tools.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100 border-dark">
                                        <div class="card-body">
                                            <h5 class="card-title text-dark"><i class="fas fa-user-circle"></i> User Menu</h5>
                                            <p class="card-text">Access account settings, logout functionality, and other user-specific options.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-chart-line text-primary"></i> Dashboard - Your Control Center</h3>
                            </div>
                            
                            <p>The Dashboard provides real-time visibility into your email processing system with automatically refreshing statistics and monitoring data.</p>

                            <h4>System Statistics Cards</h4>
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="card text-center">
                                        <div class="card-body">
                                            <i class="fas fa-microchip fa-2x text-primary mb-2"></i>
                                            <h6>CPU Usage</h6>
                                            <p class="text-muted">Real-time processor utilization</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card text-center">
                                        <div class="card-body">
                                            <i class="fas fa-memory fa-2x text-success mb-2"></i>
                                            <h6>Memory Usage</h6>
                                            <p class="text-muted">System RAM utilization</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card text-center">
                                        <div class="card-body">
                                            <i class="fas fa-envelope fa-2x text-warning mb-2"></i>
                                            <h6>Emails Processed</h6>
                                            <p class="text-muted">Daily processing count</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card text-center">
                                        <div class="card-body">
                                            <i class="fas fa-users fa-2x text-info mb-2"></i>
                                            <h6>Active Accounts</h6>
                                            <p class="text-muted">Configured email accounts</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <h4>Processing Activity</h4>
                            <ul>
                                <li><strong>Email Processing Statistics:</strong> Today's whitelisted, blacklisted, and pending email counts</li>
                                <li><strong>System Status:</strong> Last processing run time and average processing duration</li>
                                <li><strong>Error Monitoring:</strong> Recent processing errors and issue counts</li>
                                <li><strong>Recent Activity Feed:</strong> Real-time log of system activities and account changes</li>
                            </ul>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Dashboard statistics cards showing CPU at 15%, Memory at 42%, 247 emails processed today, 3 active accounts</p>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-user-cog text-success"></i> Accounts Management</h3>
                            </div>
                            
                            <p>The Accounts section is where you configure and manage your email accounts, from initial setup to ongoing service management.</p>

                            <h4>Account List View</h4>
                            <ul>
                                <li><strong>Account Overview Table:</strong> Shows all configured accounts with their connection status</li>
                                <li><strong>Real-time Connection Testing:</strong> Automatic IMAP connection verification</li>
                                <li><strong>Service Controls:</strong> Start, stop, and restart email processing for each account</li>
                                <li><strong>Status Indicators:</strong> Visual badges showing current processing state</li>
                                <li><strong>Quick Actions:</strong> Test connection, manage folders, edit settings</li>
                            </ul>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Accounts list showing 3 email accounts with green "Connected" status badges and running service indicators</p>
                            </div>

                            <h4>Adding New Accounts</h4>
                            <p>The account creation process is guided and includes provider-specific instructions:</p>
                            <ul>
                                <li><strong>Provider Guidance:</strong> Specific setup instructions for Gmail, Outlook, Yahoo, and other providers</li>
                                <li><strong>App Password Support:</strong> Clear instructions for generating secure app passwords</li>
                                <li><strong>Connection Validation:</strong> Real-time testing of IMAP credentials during setup</li>
                                <li><strong>Automatic Folder Discovery:</strong> Detects existing folder structure and suggests organization</li>
                            </ul>

                            <h4>Folder Management</h4>
                            <p>Mail-Rulez creates a comprehensive folder structure for email organization:</p>
                            
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Folder Type</th>
                                            <th>Purpose</th>
                                            <th>Examples</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong>Essential</strong></td>
                                            <td>Core email processing</td>
                                            <td>Inbox, Processed, Pending, Junk</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Category</strong></td>
                                            <td>Automated categorization</td>
                                            <td>Approved Ads, Packages, Receipts, LinkedIn</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Training</strong></td>
                                            <td>Manual categorization</td>
                                            <td>Approved, Rejected, Vendor, Head</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h3><i class="fas fa-list-ul text-warning"></i> Lists Management</h3>
                            
                            <p>The Lists section provides powerful tools for organizing email senders into categories that drive automated processing decisions.</p>

                            <h4>Interactive List Management</h4>
                            <ul>
                                <li><strong>Drag-and-Drop Interface:</strong> Move email addresses between lists with visual feedback</li>
                                <li><strong>Multiple List Types:</strong> White (trusted), Black (blocked), Vendor (promotional), Head (recruitment)</li>
                                <li><strong>Quick Addition:</strong> Add email addresses to any list with a simple form</li>
                                <li><strong>Hover Actions:</strong> Delete buttons appear on hover for easy email removal</li>
                                <li><strong>Real-time Updates:</strong> Live statistics and immediate visual feedback</li>
                            </ul>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Lists management interface showing drag-and-drop between White, Black, Vendor, and Head lists with email addresses</p>
                            </div>

                            <h4>Conflict Detection and Resolution</h4>
                            <p>Mail-Rulez automatically detects when email addresses appear in multiple lists and provides guided resolution:</p>
                            <ul>
                                <li><strong>Automatic Detection:</strong> Identifies emails in multiple lists</li>
                                <li><strong>Visual Highlighting:</strong> Conflicted emails are clearly marked</li>
                                <li><strong>Guided Resolution:</strong> Step-by-step conflict resolution process</li>
                                <li><strong>Batch Processing:</strong> Resolve multiple conflicts at once</li>
                            </ul>

                            <h3><i class="fas fa-cogs text-info"></i> Rules Engine</h3>
                            
                            <p>The Rules section provides a visual rule builder for creating sophisticated email processing automation.</p>

                            <h4>Rule Templates and Creation</h4>
                            <ul>
                                <li><strong>Pre-built Templates:</strong> Ready-made rules for common scenarios (packages, receipts, LinkedIn notifications)</li>
                                <li><strong>Visual Rule Builder:</strong> Drag-and-drop interface for creating custom rules</li>
                                <li><strong>Multiple Condition Types:</strong> Subject line, sender address, body content matching</li>
                                <li><strong>Flexible Actions:</strong> Move to folder, add to list, mark with category</li>
                                <li><strong>Priority System:</strong> Control rule execution order</li>
                            </ul>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Visual rule builder showing condition "Subject contains 'Invoice'" with action "Move to Receipts folder"</p>
                            </div>

                            <h4>Rule Management Features</h4>
                            <ul>
                                <li><strong>Account-Specific Rules:</strong> Each rule applies to a specific email account</li>
                                <li><strong>Rule Priorities:</strong> Set execution order with visual priority indicators</li>
                                <li><strong>Enable/Disable Toggle:</strong> Temporarily disable rules without deletion</li>
                                <li><strong>Rule Templates:</strong> Save custom rules as templates for reuse</li>
                            </ul>

                            <h3><i class="fas fa-file-alt text-secondary"></i> Logs and Monitoring</h3>
                            
                            <p>The Logs section provides comprehensive system monitoring and troubleshooting capabilities.</p>

                            <h4>Log Management Dashboard</h4>
                            <ul>
                                <li><strong>Log Statistics:</strong> Total files, storage usage, average file sizes</li>
                                <li><strong>File Overview:</strong> Active and rotated log files with status indicators</li>
                                <li><strong>Storage Management:</strong> Automatic cleanup and retention policies</li>
                                <li><strong>Quick Access:</strong> Direct links to view, tail, search, and download logs</li>
                            </ul>

                            <h4>Advanced Log Features</h4>
                            <ul>
                                <li><strong>Real-time Monitoring:</strong> Live log tail with auto-refresh</li>
                                <li><strong>Full-text Search:</strong> Search across all log files with highlighted results</li>
                                <li><strong>Syntax Highlighting:</strong> Color-coded log entries for easier reading</li>
                                <li><strong>Export Capabilities:</strong> Download log files for external analysis</li>
                            </ul>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Logs overview showing file list with sizes, last modified dates, and action buttons for View/Tail/Search/Download</p>
                            </div>

                            <h3><i class="fas fa-mobile-alt text-primary"></i> Responsive Design</h3>
                            
                            <p>Mail-Rulez is designed to work seamlessly across all devices:</p>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="text-center">
                                        <i class="fas fa-desktop fa-3x text-primary mb-2"></i>
                                        <h5>Desktop</h5>
                                        <p class="text-muted">Full-featured interface with all functionality</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="text-center">
                                        <i class="fas fa-tablet-alt fa-3x text-success mb-2"></i>
                                        <h5>Tablet</h5>
                                        <p class="text-muted">Optimized touch interface with collapsible elements</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="text-center">
                                        <i class="fas fa-mobile-alt fa-3x text-warning mb-2"></i>
                                        <h5>Mobile</h5>
                                        <p class="text-muted">Essential features accessible on smartphones</p>
                                    </div>
                                </div>
                            </div>

                            <h3><i class="fas fa-sync-alt text-success"></i> Real-time Features</h3>
                            
                            <p>The web interface provides live updates and real-time monitoring:</p>

                            <ul>
                                <li><strong>Auto-refreshing Statistics:</strong> Dashboard updates every 30 seconds</li>
                                <li><strong>Live Connection Testing:</strong> Real-time IMAP connection status</li>
                                <li><strong>Service Status Monitoring:</strong> Live updates on email processing services</li>
                                <li><strong>Activity Feed:</strong> Real-time system activity notifications</li>
                                <li><strong>Log Tailing:</strong> Live log monitoring with automatic updates</li>
                            </ul>

                            <div class="alert alert-info">
                                <h5><i class="fas fa-lightbulb"></i> Pro Tips for Using the Web Interface</h5>
                                <ul class="mb-0">
                                    <li>Use the Dashboard for daily monitoring and quick system health checks</li>
                                    <li>Test account connections regularly using the built-in connection tester</li>
                                    <li>Monitor the Recent Activity feed for insights into email processing patterns</li>
                                    <li>Use the Lists drag-and-drop feature for quick sender categorization</li>
                                    <li>Set up rule templates for common email patterns to save time</li>
                                    <li>Use log search functionality to quickly find specific events or errors</li>
                                </ul>
                            </div>

                            <h3><i class="fas fa-arrow-right text-primary"></i> Ready to Get Started?</h3>
                            
                            <p>Now that you understand the web interface structure, you're ready to begin your Mail-Rulez journey. The interface is designed to guide you through the setup process step by step.</p>
                            
                            <p>Continue to the <a href="#user-journey" class="nav-link d-inline p-0" data-section="user-journey">User Journey</a> section to learn the recommended workflow for setting up and using Mail-Rulez, starting with adding your first email account.</p>
                        </div>
                    </div>
                </div>

                <div id="user-journey" class="content-section">
                    <div class="row">
                        <div class="col-lg-10">
                            <h2><i class="fas fa-route text-primary"></i> User Journey</h2>
                            
                            <p class="lead">Getting started with Mail-Rulez is a straightforward process. This guide walks you through the complete setup journey, from your first login to fully automated email processing.</p>

                            <div class="alert alert-success">
                                <h5><i class="fas fa-lightbulb"></i> Recommended Approach</h5>
                                <p class="mb-0">Start with <strong>one email account</strong> to learn the system, then expand to additional accounts once you're comfortable with the workflow.</p>
                            </div>

                            <h3><i class="fas fa-list-ol text-primary"></i> Complete Setup Workflow</h3>
                            
                            <p>Follow this step-by-step journey to transform your email management:</p>

                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="card h-100 border-primary">
                                        <div class="card-header bg-primary text-white">
                                            <h5 class="mb-0"><i class="fas fa-play-circle"></i> Phase 1: Initial Setup</h5>
                                        </div>
                                        <div class="card-body">
                                            <ol>
                                                <li><strong>First Login:</strong> Access Mail-Rulez and create admin account</li>
                                                <li><strong>Add Email Account:</strong> Configure your first IMAP account</li>
                                                <li><strong>Create Folders:</strong> Set up the organized folder structure</li>
                                                <li><strong>Test Connection:</strong> Verify everything works properly</li>
                                            </ol>
                                            <p class="text-muted"><small><strong>Time required:</strong> 10-15 minutes</small></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="card h-100 border-success">
                                        <div class="card-header bg-success text-white">
                                            <h5 class="mb-0"><i class="fas fa-graduation-cap"></i> Phase 2: Inbox Training (Startup Mode)</h5>
                                        </div>
                                        <div class="card-body">
                                            <ol>
                                                <li><strong>Train the System:</strong> Move emails from INBOX to training folders</li>
                                                <li><strong>Start Processing:</strong> Begin automated list-based categorization</li>
                                                <li><strong>File Processed Emails:</strong> Organize INBOX.Processed into folders</li>
                                                <li><strong>Add Rules (Optional):</strong> Fine-tune with custom rules</li>
                                            </ol>
                                            <p class="text-muted"><small><strong>Time required:</strong> 30-60 minutes (depends on inbox size)</small></p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="screenshot-placeholder mt-4">
                                <i class="fas fa-camera fa-3x text-muted mb-3"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Visual workflow diagram showing the user journey from login to fully automated email processing</p>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-map-marked-alt text-info"></i> Detailed Journey Map</h3>
                            </div>

                            <p>Each step in your Mail-Rulez journey builds on the previous one. Here's what you'll accomplish at each stage:</p>

                            <div class="accordion" id="journeyAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#step1">
                                            <i class="fas fa-user-plus text-primary me-3"></i>Step 1: First Login & Admin Setup
                                        </button>
                                    </h2>
                                    <div id="step1" class="accordion-collapse collapse show" data-bs-parent="#journeyAccordion">
                                        <div class="accordion-body">
                                            <p><strong>What you'll do:</strong> Access Mail-Rulez for the first time and create your admin account.</p>
                                            <p><strong>What you'll learn:</strong> Basic navigation and the Mail-Rulez interface.</p>
                                            <p><strong>Expected outcome:</strong> Secure access to your Mail-Rulez dashboard.</p>
                                            <div class="alert alert-info">
                                                <small><strong>First-time tip:</strong> Choose a strong admin password - this controls access to all your email automation.</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step2">
                                            <i class="fas fa-envelope-open text-success me-3"></i>Step 2: Add Your First Email Account
                                        </button>
                                    </h2>
                                    <div id="step2" class="accordion-collapse collapse" data-bs-parent="#journeyAccordion">
                                        <div class="accordion-body">
                                            <p><strong>What you'll do:</strong> Configure IMAP access for your email account with provider-specific guidance.</p>
                                            <p><strong>What you'll learn:</strong> How to set up secure IMAP connections and handle app passwords.</p>
                                            <p><strong>Expected outcome:</strong> Your email account connected and ready for folder creation.</p>
                                            <div class="alert alert-warning">
                                                <small><strong>Important:</strong> You'll need app passwords for Gmail, Outlook, and most modern email providers.</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step3">
                                            <i class="fas fa-folder-plus text-warning me-3"></i>Step 3: Create Organized Folder Structure
                                        </button>
                                    </h2>
                                    <div id="step3" class="accordion-collapse collapse" data-bs-parent="#journeyAccordion">
                                        <div class="accordion-body">
                                            <p><strong>What you'll do:</strong> Create the complete folder structure needed for automated email organization.</p>
                                            <p><strong>What you'll learn:</strong> How Mail-Rulez uses different folder types for categorization and processing.</p>
                                            <p><strong>Expected outcome:</strong> 15+ organized folders ready to receive processed emails.</p>
                                            <div class="alert alert-success">
                                                <small><strong>Pro tip:</strong> Mail-Rulez detects existing folders and only creates what's missing.</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step4">
                                            <i class="fas fa-graduation-cap text-info me-3"></i>Step 4: Train Mail-Rulez (Startup Mode)
                                        </button>
                                    </h2>
                                    <div id="step4" class="accordion-collapse collapse" data-bs-parent="#journeyAccordion">
                                        <div class="accordion-body">
                                            <p><strong>What you'll do:</strong> Train the system by moving emails from INBOX to training folders (_whitelist, _blacklist, _vendor, _headhunter).</p>
                                            <p><strong>What you'll learn:</strong> How startup mode uses list-based processing to categorize thousands of emails quickly.</p>
                                            <p><strong>Expected outcome:</strong> Dramatic inbox reduction with whitelist emails moved to INBOX.Processed for filing.</p>
                                            <div class="alert alert-success">
                                                <small><strong>Key insight:</strong> Move just a few representative emails to each training folder - Mail-Rulez learns patterns and processes similar emails automatically.</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step5">
                                            <i class="fas fa-magic text-secondary me-3"></i>Step 5: Add Rules (Optional Fine-Tuning)
                                        </button>
                                    </h2>
                                    <div id="step5" class="accordion-collapse collapse" data-bs-parent="#journeyAccordion">
                                        <div class="accordion-body">
                                            <p><strong>What you'll do:</strong> After lists have cleaned up your inbox, add custom rules for specific patterns that need special handling.</p>
                                            <p><strong>What you'll learn:</strong> How rules complement list-based processing for edge cases and specific workflows.</p>
                                            <p><strong>Expected outcome:</strong> Precision automation for patterns not handled by lists alone.</p>
                                            <div class="alert alert-info">
                                                <small><strong>Timing note:</strong> Many users find list-based processing handles 80-90% of their emails. Add rules only after seeing what patterns remain.</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step6">
                                            <i class="fas fa-sync text-success me-3"></i>Step 6: Transition to Maintenance Mode
                                        </button>
                                    </h2>
                                    <div id="step6" class="accordion-collapse collapse" data-bs-parent="#journeyAccordion">
                                        <div class="accordion-body">
                                            <p><strong>What you'll do:</strong> File processed emails into organized folders and switch to maintenance mode for ongoing email management.</p>
                                            <p><strong>What you'll learn:</strong> How maintenance mode keeps your inbox functional while processing new emails automatically.</p>
                                            <p><strong>Expected outcome:</strong> A clean, functional inbox that stays organized with minimal effort.</p>
                                            <div class="alert alert-success">
                                                <small><strong>Success indicator:</strong> Your inbox becomes an action center with only emails requiring response or filing, not a storage system.</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-target text-success"></i> What Success Looks Like</h3>
                            </div>

                            <p>After completing your Mail-Rulez journey, you'll have achieved:</p>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card border-success h-100">
                                        <div class="card-header bg-success text-white">
                                            <h6 class="mb-0"><i class="fas fa-check-circle"></i> Immediate Benefits</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li>Inbox transformed from storage to action center</li>
                                                <li>Thousands of emails automatically categorized by sender lists</li>
                                                <li>Whitelisted emails moved to Processed folder for filing</li>
                                                <li>Spam and unwanted emails automatically segregated</li>
                                                <li>Vendor emails organized in dedicated folders</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-info h-100">
                                        <div class="card-header bg-info text-white">
                                            <h6 class="mb-0"><i class="fas fa-chart-line"></i> Long-term Value</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li>Dramatically reduced time spent on email management</li>
                                                <li>Never miss important emails again</li>
                                                <li>Clean, organized inbox that stays organized</li>
                                                <li>Insights into your email patterns and volume</li>
                                                <li>Scalable system that grows with your needs</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-graduation-cap text-warning"></i> Learning Path Options</h3>
                            </div>

                            <p>Choose the approach that matches your learning style and time availability:</p>

                            <div class="row">
                                <div class="col-lg-4">
                                    <div class="card text-center h-100">
                                        <div class="card-header bg-primary text-white">
                                            <h6 class="mb-0"><i class="fas fa-rocket"></i> Express Setup</h6>
                                        </div>
                                        <div class="card-body">
                                            <p class="card-text">Follow the quick setup guide with minimal customization.</p>
                                            <ul class="list-unstyled text-start">
                                                <li> Basic account setup</li>
                                                <li> Essential folders only</li>
                                                <li> Simple whitelist/blacklist</li>
                                                <li> 15-20 minutes</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="card text-center h-100 border-success">
                                        <div class="card-header bg-success text-white">
                                            <h6 class="mb-0"><i class="fas fa-balance-scale"></i> Balanced Setup</h6>
                                        </div>
                                        <div class="card-body">
                                            <p class="card-text">Complete setup with reasonable customization (recommended).</p>
                                            <ul class="list-unstyled text-start">
                                                <li> Full account configuration</li>
                                                <li> Complete folder structure</li>
                                                <li> Training-based list building</li>
                                                <li> Optional custom rules</li>
                                                <li> 45-90 minutes</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="card text-center h-100">
                                        <div class="card-header bg-warning text-dark">
                                            <h6 class="mb-0"><i class="fas fa-cogs"></i> Power User Setup</h6>
                                        </div>
                                        <div class="card-body">
                                            <p class="card-text">Comprehensive setup with custom rules and advanced features.</p>
                                            <ul class="list-unstyled text-start">
                                                <li> Multiple accounts</li>
                                                <li> Custom folder structures</li>
                                                <li> Advanced list management</li>
                                                <li> Custom rules creation</li>
                                                <li> Performance optimization</li>
                                                <li> 90+ minutes</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-primary mt-4">
                                <h5><i class="fas fa-compass"></i> Ready to Start Your Journey?</h5>
                                <p>Choose your first step based on your current status:</p>
                                <div class="row">
                                    <div class="col-md-6">
                                        <p><strong>New to Mail-Rulez?</strong><br>
                                        Start with <a href="#adding-accounts" class="nav-link d-inline p-0" data-section="adding-accounts">Adding Your First Account</a></p>
                                    </div>
                                    <div class="col-md-6">
                                        <p><strong>Account already configured?</strong><br>
                                        Jump to <a href="#adding-folders" class="nav-link d-inline p-0" data-section="adding-folders">Creating Folders</a> or <a href="#list-management" class="nav-link d-inline p-0" data-section="list-management">List Management</a></p>
                                    </div>
                                </div>
                                <p class="mb-0"><strong>Need help?</strong> Check the <a href="#troubleshooting" class="nav-link d-inline p-0" data-section="troubleshooting">Troubleshooting section</a> for common issues and solutions.</p>
                            </div>

                            <!-- User Journey Navigation -->
                            <div class="border-top pt-4 mt-4">
                                <div class="row">
                                    <div class="col-md-6">
                                        <p class="mb-0"><i class="fas fa-arrow-left text-muted"></i> <strong>Previous:</strong> <a href="#webapp-overview" class="nav-link d-inline p-0" data-section="webapp-overview">Web App Overview</a></p>
                                    </div>
                                    <div class="col-md-6 text-md-end">
                                        <p class="mb-0"><strong>Next:</strong> <a href="#adding-accounts" class="nav-link d-inline p-0" data-section="adding-accounts">Adding Accounts</a> <i class="fas fa-arrow-right text-muted"></i></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="adding-accounts" class="content-section">
                    <div class="row">
                        <div class="col-lg-10">
                            <h2><i class="fas fa-user-plus text-primary"></i> Adding Accounts</h2>
                            
                            <p class="lead">Adding your first email account is the foundation of your Mail-Rulez automation. This step-by-step guide will walk you through the process for all major email providers.</p>

                            <div class="alert alert-info">
                                <h5><i class="fas fa-info-circle"></i> Before You Start</h5>
                                <p>Most modern email providers require <strong>app passwords</strong> instead of your regular login password for IMAP access. We'll guide you through generating these secure credentials.</p>
                            </div>

                            <h3><i class="fas fa-play-circle text-success"></i> Step-by-Step Account Setup</h3>

                            <div class="mt-4 mb-4">
                                <h4>Step 1: Navigate to Account Management</h4>
                            </div>
                            
                            <ol>
                                <li>From the Mail-Rulez dashboard, click <strong>"Accounts"</strong> in the navigation menu</li>
                                <li>Click the <strong>"Add Account"</strong> button</li>
                                <li>You'll see the account creation form with provider-specific guidance</li>
                            </ol>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Accounts page showing "Add Account" button and empty accounts list for new users</p>
                            </div>

                            <div class="mt-4 mb-4">
                                <h4>Step 2: Choose Your Email Provider</h4>
                            </div>

                            <p>Mail-Rulez provides specific guidance for major email providers. Select your provider below for detailed setup instructions:</p>

                            <div class="accordion" id="providerAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#gmail">
                                            <i class="fas fa-envelope text-danger me-3"></i>Gmail / Google Workspace
                                        </button>
                                    </h2>
                                    <div id="gmail" class="accordion-collapse collapse show" data-bs-parent="#providerAccordion">
                                        <div class="accordion-body">
                                            <h6><strong>Required Information:</strong></h6>
                                            <ul>
                                                <li><strong>Email:</strong> your.email@gmail.com</li>
                                                <li><strong>IMAP Server:</strong> imap.gmail.com</li>
                                                <li><strong>Port:</strong> 993 (SSL/TLS)</li>
                                                <li><strong>Password:</strong> App Password (not your Gmail password)</li>
                                            </ul>
                                            
                                            <h6><strong>Setting Up App Password:</strong></h6>
                                            <ol>
                                                <li>Go to your <a href="https://myaccount.google.com/security" target="_blank">Google Account Security</a></li>
                                                <li>Enable <strong>2-Factor Authentication</strong> if not already enabled</li>
                                                <li>Go to <strong>Security  2-Step Verification  App Passwords</strong></li>
                                                <li>Select <strong>"Mail"</strong> and your device type</li>
                                                <li>Copy the generated 16-character password</li>
                                                <li>Use this app password in Mail-Rulez (not your regular Gmail password)</li>
                                            </ol>
                                            
                                            <div class="alert alert-warning">
                                                <small><strong>Important:</strong> Gmail requires 2FA to be enabled before you can create app passwords.</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#outlook">
                                            <i class="fas fa-envelope text-primary me-3"></i>Outlook / Microsoft 365
                                        </button>
                                    </h2>
                                    <div id="outlook" class="accordion-collapse collapse" data-bs-parent="#providerAccordion">
                                        <div class="accordion-body">
                                            <h6><strong>Required Information:</strong></h6>
                                            <ul>
                                                <li><strong>Email:</strong> your.email@outlook.com (or @hotmail.com)</li>
                                                <li><strong>IMAP Server:</strong> outlook.office365.com</li>
                                                <li><strong>Port:</strong> 993 (SSL/TLS)</li>
                                                <li><strong>Password:</strong> App Password (recommended) or account password</li>
                                            </ul>
                                            
                                            <h6><strong>Setting Up App Password:</strong></h6>
                                            <ol>
                                                <li>Go to <a href="https://account.microsoft.com/security" target="_blank">Microsoft Account Security</a></li>
                                                <li>Sign in and go to <strong>Security dashboard</strong></li>
                                                <li>Select <strong>Advanced security options</strong></li>
                                                <li>Under <strong>App passwords</strong>, click <strong>Create a new app password</strong></li>
                                                <li>Enter "Mail-Rulez" as the app name</li>
                                                <li>Copy the generated password</li>
                                                <li>Use this app password in Mail-Rulez</li>
                                            </ol>
                                            
                                            <div class="alert alert-info">
                                                <small><strong>Note:</strong> Some Outlook accounts may work with your regular password, but app passwords are more secure.</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#yahoo">
                                            <i class="fas fa-envelope text-warning me-3"></i>Yahoo Mail
                                        </button>
                                    </h2>
                                    <div id="yahoo" class="accordion-collapse collapse" data-bs-parent="#providerAccordion">
                                        <div class="accordion-body">
                                            <h6><strong>Required Information:</strong></h6>
                                            <ul>
                                                <li><strong>Email:</strong> your.email@yahoo.com</li>
                                                <li><strong>IMAP Server:</strong> imap.mail.yahoo.com</li>
                                                <li><strong>Port:</strong> 993 (SSL/TLS)</li>
                                                <li><strong>Password:</strong> App Password (required)</li>
                                            </ul>
                                            
                                            <h6><strong>Setting Up App Password:</strong></h6>
                                            <ol>
                                                <li>Go to <a href="https://login.yahoo.com/account/security" target="_blank">Yahoo Account Security</a></li>
                                                <li>Click <strong>Generate and manage app passwords</strong></li>
                                                <li>Select <strong>"Other App"</strong> and enter "Mail-Rulez"</li>
                                                <li>Click <strong>Generate</strong></li>
                                                <li>Copy the generated password</li>
                                                <li>Use this app password in Mail-Rulez</li>
                                            </ol>
                                            
                                            <div class="alert alert-warning">
                                                <small><strong>Required:</strong> Yahoo requires app passwords for all IMAP access. Your regular password will not work.</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#other">
                                            <i class="fas fa-envelope text-secondary me-3"></i>Other Email Providers
                                        </button>
                                    </h2>
                                    <div id="other" class="accordion-collapse collapse" data-bs-parent="#providerAccordion">
                                        <div class="accordion-body">
                                            <p>For other email providers, you'll need to obtain IMAP settings from your provider:</p>
                                            
                                            <h6><strong>Information You'll Need:</strong></h6>
                                            <ul>
                                                <li><strong>IMAP Server:</strong> Usually imap.yourprovider.com</li>
                                                <li><strong>Port:</strong> Typically 993 (SSL) or 143 (non-SSL)</li>
                                                <li><strong>Security:</strong> SSL/TLS recommended</li>
                                                <li><strong>Authentication:</strong> Your email and password (or app password)</li>
                                            </ul>
                                            
                                            <h6><strong>Common Provider Settings:</strong></h6>
                                            <div class="table-responsive">
                                                <table class="table table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Provider</th>
                                                            <th>IMAP Server</th>
                                                            <th>Port</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>iCloud</td>
                                                            <td>imap.mail.me.com</td>
                                                            <td>993</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Zoho</td>
                                                            <td>imap.zoho.com</td>
                                                            <td>993</td>
                                                        </tr>
                                                        <tr>
                                                            <td>ProtonMail</td>
                                                            <td>127.0.0.1 (Bridge)</td>
                                                            <td>1143</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            
                                            <div class="alert alert-info">
                                                <small><strong>Tip:</strong> Search for "[Your Provider] IMAP settings" to find the correct configuration.</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h4>Step 3: Fill Out the Account Form</h4>
                            </div>

                            <p>Once you have your provider information and app password, complete the Mail-Rulez account form:</p>

                            <div class="row">
                                <div class="col-md-6">
                                    <h6><strong>Basic Information</strong></h6>
                                    <ul>
                                        <li><strong>Account Name:</strong> Friendly name (e.g., "My Gmail", "Work Email")</li>
                                        <li><strong>Email Address:</strong> Your full email address</li>
                                        <li><strong>Description:</strong> Optional description for your reference</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6><strong>IMAP Configuration</strong></h6>
                                    <ul>
                                        <li><strong>IMAP Server:</strong> Provider's IMAP server address</li>
                                        <li><strong>Port:</strong> Usually 993 for SSL</li>
                                        <li><strong>Username:</strong> Typically your email address</li>
                                        <li><strong>Password:</strong> Your app password</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Add Account form showing filled out Gmail configuration with test connection button</p>
                            </div>

                            <div class="mt-4 mb-4">
                                <h4>Step 4: Test Your Connection</h4>
                            </div>

                            <p>Before saving your account, always test the connection to ensure everything is configured correctly:</p>

                            <ol>
                                <li>Click the <strong>"Test Connection"</strong> button</li>
                                <li>Mail-Rulez will attempt to connect to your email server</li>
                                <li>Wait for the test results (this may take a few seconds)</li>
                                <li>Look for a <span class="text-success"><strong>green success message</strong></span> indicating a successful connection</li>
                            </ol>

                            <div class="alert alert-success">
                                <h6><i class="fas fa-check-circle"></i> Successful Connection</h6>
                                <p class="mb-0">You'll see: <strong>"Connection successful! IMAP server is accessible and credentials are valid."</strong></p>
                            </div>

                            <div class="alert alert-danger">
                                <h6><i class="fas fa-exclamation-triangle"></i> Connection Failed</h6>
                                <p class="mb-2">If the test fails, check these common issues:</p>
                                <ul class="mb-0">
                                    <li><strong>Wrong password:</strong> Ensure you're using an app password, not your regular password</li>
                                    <li><strong>Server address:</strong> Double-check the IMAP server address</li>
                                    <li><strong>Port number:</strong> Verify the port (usually 993 for SSL)</li>
                                    <li><strong>2FA required:</strong> Some providers require 2-factor authentication to be enabled first</li>
                                </ul>
                            </div>

                            <div class="mt-4 mb-4">
                                <h4>Step 5: Configure Folder Paths</h4>
                            </div>

                            <p>Mail-Rulez needs to know where to find and create folders in your email account. The system will auto-populate common folder paths based on your email provider:</p>

                            <div class="row">
                                <div class="col-md-6">
                                    <h6><strong>Essential Folders</strong></h6>
                                    <ul>
                                        <li><strong>Inbox Path:</strong> Where new emails arrive</li>
                                        <li><strong>Processed Path:</strong> For successfully processed emails</li>
                                        <li><strong>Pending Path:</strong> For emails awaiting processing</li>
                                        <li><strong>Junk Path:</strong> For blocked/spam emails</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6><strong>Category Folders</strong></h6>
                                    <ul>
                                        <li><strong>Packages:</strong> Delivery notifications</li>
                                        <li><strong>Receipts:</strong> Purchase confirmations</li>
                                        <li><strong>LinkedIn:</strong> Professional networking</li>
                                        <li><strong>Approved Ads:</strong> Wanted promotional emails</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="alert alert-info">
                                <h6><i class="fas fa-magic"></i> Auto-Configuration</h6>
                                <p class="mb-0">Mail-Rulez automatically detects your email provider and pre-fills folder paths. You can customize these paths if needed, but the defaults work for most users.</p>
                            </div>

                            <div class="mt-4 mb-4">
                                <h4>Step 6: Save Your Account</h4>
                            </div>

                            <ol>
                                <li>After successful connection testing, click <strong>"Save Account"</strong></li>
                                <li>Mail-Rulez will create the account configuration</li>
                                <li>You'll be redirected to the accounts list</li>
                                <li>Your new account will appear with a <span class="text-success"><strong>"Connected"</strong></span> status</li>
                            </ol>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Accounts list showing newly added Gmail account with green "Connected" status badge</p>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-tools text-warning"></i> Troubleshooting Account Setup</h3>
                            </div>

                            <div class="accordion" id="troubleshootingAccountAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue-auth">
                                            Authentication Failures
                                        </button>
                                    </h2>
                                    <div id="issue-auth" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccountAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Error:</strong> "Authentication failed" or "Invalid credentials"</p>
                                            <p><strong>Solutions:</strong></p>
                                            <ul>
                                                <li>Verify you're using an app password, not your regular password</li>
                                                <li>Check that 2FA is enabled for your account (required for most providers)</li>
                                                <li>Regenerate your app password and try again</li>
                                                <li>Ensure your username is your full email address</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue-connection">
                                            Connection Timeouts
                                        </button>
                                    </h2>
                                    <div id="issue-connection" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccountAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Error:</strong> "Connection timeout" or "Cannot reach server"</p>
                                            <p><strong>Solutions:</strong></p>
                                            <ul>
                                                <li>Check your internet connection</li>
                                                <li>Verify the IMAP server address is correct</li>
                                                <li>Confirm the port number (993 for SSL, 143 for non-SSL)</li>
                                                <li>Check if your firewall is blocking IMAP connections</li>
                                                <li>Try a different network if possible</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue-ssl">
                                            SSL/TLS Errors
                                        </button>
                                    </h2>
                                    <div id="issue-ssl" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccountAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Error:</strong> "SSL handshake failed" or "Certificate error"</p>
                                            <p><strong>Solutions:</strong></p>
                                            <ul>
                                                <li>Ensure you're using port 993 for SSL connections</li>
                                                <li>Check that SSL/TLS is enabled in the account settings</li>
                                                <li>Update your system's SSL certificates</li>
                                                <li>Try using STARTTLS instead of SSL if available</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-lightbulb text-info"></i> Pro Tips for Account Management</h3>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card border-info h-100">
                                        <div class="card-header bg-info text-white">
                                            <h6 class="mb-0"><i class="fas fa-shield-alt"></i> Security Best Practices</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li>Always use app passwords instead of your main password</li>
                                                <li>Regularly rotate your app passwords</li>
                                                <li>Enable 2FA on your email accounts</li>
                                                <li>Use descriptive names for your Mail-Rulez accounts</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-success h-100">
                                        <div class="card-header bg-success text-white">
                                            <h6 class="mb-0"><i class="fas fa-rocket"></i> Performance Tips</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li>Start with one account to learn the system</li>
                                                <li>Test connections regularly to catch issues early</li>
                                                <li>Use clear, descriptive account names</li>
                                                <li>Keep app passwords secure and organized</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-primary mt-4">
                                <h5><i class="fas fa-arrow-right"></i> Next Steps</h5>
                                <p>Once your account is successfully configured and connected:</p>
                                <ol class="mb-0">
                                    <li>Proceed to <a href="#adding-folders" class="nav-link d-inline p-0" data-section="adding-folders">Create the required folder structure</a></li>
                                    <li>Set up <a href="#list-management" class="nav-link d-inline p-0" data-section="list-management">email lists for sender categorization</a></li>
                                    <li>Create <a href="#creating-rules" class="nav-link d-inline p-0" data-section="creating-rules">custom processing rules</a></li>
                                    <li>Start automated email processing</li>
                                </ol>
                            </div>

                            <!-- User Journey Navigation -->
                            <div class="border-top pt-4 mt-4">
                                <div class="row">
                                    <div class="col-md-6">
                                        <p class="mb-0"><i class="fas fa-arrow-left text-muted"></i> <strong>Previous:</strong> <a href="#user-journey" class="nav-link d-inline p-0" data-section="user-journey">User Journey Overview</a></p>
                                    </div>
                                    <div class="col-md-6 text-md-end">
                                        <p class="mb-0"><strong>Next:</strong> <a href="#adding-folders" class="nav-link d-inline p-0" data-section="adding-folders">Adding Folders</a> <i class="fas fa-arrow-right text-muted"></i></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="adding-folders" class="content-section">
                    <div class="row">
                        <div class="col-lg-10">
                            <h2><i class="fas fa-folder-plus text-primary"></i> Adding Folders</h2>
                            
                            <p class="lead">Creating the proper folder structure is essential for Mail-Rulez to organize your emails effectively. This guide will walk you through creating all the necessary folders for optimal email management.</p>

                            <div class="alert alert-success">
                                <h5><i class="fas fa-magic"></i> Automated Folder Creation</h5>
                                <p class="mb-0">Mail-Rulez detects existing folders and only creates what's missing. The process is quick and intelligent - no manual folder creation required!</p>
                            </div>

                            <h3><i class="fas fa-play-circle text-success"></i> Step-by-Step Folder Creation</h3>

                            <div class="mt-4 mb-4">
                                <h4>Step 1: Access Folder Management</h4>
                            </div>
                            
                            <ol>
                                <li>From your accounts list, find your newly created account</li>
                                <li>Click the <strong>"Folders"</strong> button next to your account name</li>
                                <li>Mail-Rulez will scan your existing folder structure</li>
                                <li>You'll see the folder creation interface with detected and missing folders</li>
                            </ol>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Accounts list with "Folders" button highlighted next to a Gmail account entry</p>
                            </div>

                            <div class="mt-4 mb-4">
                                <h4>Step 2: Review the Folder Structure</h4>
                            </div>

                            <p>Mail-Rulez creates a comprehensive folder organization system. Here's what each folder type does:</p>

                            <div class="accordion" id="folderTypesAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#essential-folders">
                                            <i class="fas fa-folder text-danger me-3"></i>Essential Folders (Required)
                                        </button>
                                    </h2>
                                    <div id="essential-folders" class="accordion-collapse collapse show" data-bs-parent="#folderTypesAccordion">
                                        <div class="accordion-body">
                                            <div class="table-responsive">
                                                <table class="table table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Folder</th>
                                                            <th>Purpose</th>
                                                            <th>When Used</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td><strong>Inbox</strong></td>
                                                            <td>New email arrival point</td>
                                                            <td>Where Mail-Rulez picks up emails for processing</td>
                                                        </tr>
                                                        <tr>
                                                            <td><strong>Processed</strong></td>
                                                            <td>Successfully processed emails</td>
                                                            <td>Emails that have been categorized and handled</td>
                                                        </tr>
                                                        <tr>
                                                            <td><strong>Pending</strong></td>
                                                            <td>Emails awaiting manual review</td>
                                                            <td>Emails that need human decision-making</td>
                                                        </tr>
                                                        <tr>
                                                            <td><strong>Junk</strong></td>
                                                            <td>Blocked/spam emails</td>
                                                            <td>Emails from blacklisted senders</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#category-folders">
                                            <i class="fas fa-folder text-primary me-3"></i>Category Folders (Automatic Organization)
                                        </button>
                                    </h2>
                                    <div id="category-folders" class="accordion-collapse collapse" data-bs-parent="#folderTypesAccordion">
                                        <div class="accordion-body">
                                            <div class="table-responsive">
                                                <table class="table table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Folder</th>
                                                            <th>Purpose</th>
                                                            <th>Example Emails</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td><strong>Approved Ads</strong></td>
                                                            <td>Wanted promotional emails</td>
                                                            <td>Newsletters, deals from favorite stores</td>
                                                        </tr>
                                                        <tr>
                                                            <td><strong>Packages</strong></td>
                                                            <td>Delivery notifications</td>
                                                            <td>Amazon, UPS, FedEx shipping updates</td>
                                                        </tr>
                                                        <tr>
                                                            <td><strong>Receipts</strong></td>
                                                            <td>Purchase confirmations</td>
                                                            <td>Order confirmations, invoices</td>
                                                        </tr>
                                                        <tr>
                                                            <td><strong>LinkedIn</strong></td>
                                                            <td>Professional networking</td>
                                                            <td>LinkedIn notifications, messages</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#training-folders">
                                            <i class="fas fa-folder text-warning me-3"></i>Training Folders (Manual Categorization)
                                        </button>
                                    </h2>
                                    <div id="training-folders" class="accordion-collapse collapse" data-bs-parent="#folderTypesAccordion">
                                        <div class="accordion-body">
                                            <div class="table-responsive">
                                                <table class="table table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Folder</th>
                                                            <th>Purpose</th>
                                                            <th>How to Use</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td><strong>Approved</strong></td>
                                                            <td>Training whitelist candidates</td>
                                                            <td>Move good emails here to add senders to whitelist</td>
                                                        </tr>
                                                        <tr>
                                                            <td><strong>Rejected</strong></td>
                                                            <td>Training blacklist candidates</td>
                                                            <td>Move bad emails here to add senders to blacklist</td>
                                                        </tr>
                                                        <tr>
                                                            <td><strong>Vendor</strong></td>
                                                            <td>Promotional email training</td>
                                                            <td>Move promotional emails to train vendor list</td>
                                                        </tr>
                                                        <tr>
                                                            <td><strong>Head</strong></td>
                                                            <td>Recruitment email training</td>
                                                            <td>Move job-related emails to train head list</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#optional-folders">
                                            <i class="fas fa-folder text-info me-3"></i>Optional Folders (Specialized Use)
                                        </button>
                                    </h2>
                                    <div id="optional-folders" class="accordion-collapse collapse" data-bs-parent="#folderTypesAccordion">
                                        <div class="accordion-body">
                                            <div class="table-responsive">
                                                <table class="table table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Folder</th>
                                                            <th>Purpose</th>
                                                            <th>When to Use</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td><strong>HeadHunt</strong></td>
                                                            <td>Job hunting communications</td>
                                                            <td>If you're actively job searching</td>
                                                        </tr>
                                                        <tr>
                                                            <td><strong>Custom Categories</strong></td>
                                                            <td>User-defined organization</td>
                                                            <td>Create your own categorization system</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h4>Step 3: Create Missing Folders</h4>
                            </div>

                            <p>Mail-Rulez will show you which folders already exist and which need to be created:</p>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card border-success h-100">
                                        <div class="card-header bg-success text-white">
                                            <h6 class="mb-0"><i class="fas fa-check-circle"></i> Existing Folders</h6>
                                        </div>
                                        <div class="card-body">
                                            <p class="card-text">Folders that already exist in your email account will be shown with green checkmarks.</p>
                                            <p class="card-text text-success"><strong> Inbox</strong> (already exists)<br>
                                            <strong> Sent</strong> (already exists)</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-warning h-100">
                                        <div class="card-header bg-warning text-dark">
                                            <h6 class="mb-0"><i class="fas fa-plus-circle"></i> Folders to Create</h6>
                                        </div>
                                        <div class="card-body">
                                            <p class="card-text">Missing folders will be listed and ready for creation with one click.</p>
                                            <p class="card-text text-warning"><strong>+ Processed</strong> (will be created)<br>
                                            <strong>+ Packages</strong> (will be created)</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="screenshot-placeholder mt-4">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Folder creation interface showing existing folders with green checkmarks and missing folders ready to create</p>
                            </div>

                            <div class="mt-4 mb-4">
                                <h4>Step 4: Execute Folder Creation</h4>
                            </div>

                            <ol>
                                <li>Review the list of folders that will be created</li>
                                <li>Click the <strong>"Create All Missing Folders"</strong> button</li>
                                <li>Mail-Rulez will create all missing folders on your IMAP server</li>
                                <li>Wait for the success confirmation message</li>
                                <li>All folders will now show green checkmarks</li>
                            </ol>

                            <div class="alert alert-info">
                                <h6><i class="fas fa-info-circle"></i> What Happens During Creation</h6>
                                <ul class="mb-0">
                                    <li>Mail-Rulez connects to your IMAP server</li>
                                    <li>Creates each missing folder with proper permissions</li>
                                    <li>Verifies folder creation was successful</li>
                                    <li>Updates the folder status in real-time</li>
                                    <li>Provides detailed feedback on any issues</li>
                                </ul>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-cogs text-primary"></i> Folder Structure Visualization</h3>
                            </div>

                            <p>After creation, your email account will have a well-organized folder structure like this:</p>

                            <div class="card">
                                <div class="card-header bg-light">
                                    <h6 class="mb-0"><i class="fas fa-sitemap"></i> Complete Folder Structure</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6><strong> Core Processing</strong></h6>
                                            <ul class="list-unstyled ms-3">
                                                <li><i class="fas fa-inbox text-primary"></i> Inbox</li>
                                                <li><i class="fas fa-check text-success"></i> Processed</li>
                                                <li><i class="fas fa-clock text-warning"></i> Pending</li>
                                                <li><i class="fas fa-trash text-danger"></i> Junk</li>
                                            </ul>

                                            <h6><strong> Automatic Categories</strong></h6>
                                            <ul class="list-unstyled ms-3">
                                                <li><i class="fas fa-ad text-info"></i> Approved Ads</li>
                                                <li><i class="fas fa-box text-warning"></i> Packages</li>
                                                <li><i class="fas fa-receipt text-success"></i> Receipts</li>
                                                <li><i class="fab fa-linkedin text-primary"></i> LinkedIn</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><strong> Training Folders</strong></h6>
                                            <ul class="list-unstyled ms-3">
                                                <li><i class="fas fa-thumbs-up text-success"></i> Approved</li>
                                                <li><i class="fas fa-thumbs-down text-danger"></i> Rejected</li>
                                                <li><i class="fas fa-store text-info"></i> Vendor</li>
                                                <li><i class="fas fa-user-tie text-secondary"></i> Head</li>
                                            </ul>

                                            <h6><strong> Optional</strong></h6>
                                            <ul class="list-unstyled ms-3">
                                                <li><i class="fas fa-search text-primary"></i> HeadHunt</li>
                                                <li><i class="fas fa-plus text-muted"></i> (Custom folders)</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-tools text-warning"></i> Troubleshooting Folder Creation</h3>
                            </div>

                            <div class="accordion" id="folderTroubleshootingAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#folder-permission">
                                            Permission Denied Errors
                                        </button>
                                    </h2>
                                    <div id="folder-permission" class="accordion-collapse collapse" data-bs-parent="#folderTroubleshootingAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Error:</strong> "Permission denied" or "Cannot create folder"</p>
                                            <p><strong>Solutions:</strong></p>
                                            <ul>
                                                <li>Verify your IMAP account has folder creation permissions</li>
                                                <li>Check that your app password has full access rights</li>
                                                <li>Some email providers restrict folder creation - contact your provider</li>
                                                <li>Try creating one folder manually in your email client to test permissions</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#folder-naming">
                                            Folder Naming Conflicts
                                        </button>
                                    </h2>
                                    <div id="folder-naming" class="accordion-collapse collapse" data-bs-parent="#folderTroubleshootingAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Error:</strong> "Folder already exists" or naming conflicts</p>
                                            <p><strong>Solutions:</strong></p>
                                            <ul>
                                                <li>Mail-Rulez will skip folders that already exist (this is normal)</li>
                                                <li>If you have similarly named folders, Mail-Rulez will use the existing ones</li>
                                                <li>Custom folder names can be configured in account settings</li>
                                                <li>Delete conflicting folders from your email client if needed</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#folder-connection">
                                            Connection Issues During Creation
                                        </button>
                                    </h2>
                                    <div id="folder-connection" class="accordion-collapse collapse" data-bs-parent="#folderTroubleshootingAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Error:</strong> "Connection lost" or timeout during folder creation</p>
                                            <p><strong>Solutions:</strong></p>
                                            <ul>
                                                <li>Check your internet connection</li>
                                                <li>Retry the folder creation process</li>
                                                <li>Create folders in smaller batches if you have many to create</li>
                                                <li>Verify your IMAP server isn't temporarily down</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-lightbulb text-info"></i> Pro Tips for Folder Management</h3>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card border-info h-100">
                                        <div class="card-header bg-info text-white">
                                            <h6 class="mb-0"><i class="fas fa-star"></i> Organization Best Practices</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li>Let Mail-Rulez create the standard structure first</li>
                                                <li>Don't modify folder names after creation</li>
                                                <li>Check your email client to see the new folders</li>
                                                <li>Train the system by moving emails to training folders</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-success h-100">
                                        <div class="card-header bg-success text-white">
                                            <h6 class="mb-0"><i class="fas fa-sync-alt"></i> Maintenance Tips</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li>Periodically review folder contents</li>
                                                <li>Empty training folders after processing</li>
                                                <li>Monitor folder sizes for performance</li>
                                                <li>Create custom folders for specific needs</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-folder-open text-warning"></i> Understanding Folder Workflow</h3>
                            </div>

                            <p>Here's how emails flow through your new folder structure:</p>

                            <div class="card">
                                <div class="card-body">
                                    <div class="row text-center">
                                        <div class="col-md-2">
                                            <div class="border rounded p-3 h-100">
                                                <i class="fas fa-inbox fa-2x text-primary mb-2"></i>
                                                <h6>1. Inbox</h6>
                                                <small>New emails arrive</small>
                                            </div>
                                        </div>
                                        <div class="col-md-1 d-flex align-items-center justify-content-center">
                                            <i class="fas fa-arrow-right text-muted"></i>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="border rounded p-3 h-100">
                                                <i class="fas fa-cogs fa-2x text-warning mb-2"></i>
                                                <h6>2. Processing</h6>
                                                <small>Rules & lists applied</small>
                                            </div>
                                        </div>
                                        <div class="col-md-1 d-flex align-items-center justify-content-center">
                                            <i class="fas fa-arrow-right text-muted"></i>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="border rounded p-3 h-100">
                                                <i class="fas fa-folder-open fa-2x text-success mb-2"></i>
                                                <h6>3. Categorized</h6>
                                                <small>Moved to appropriate folder</small>
                                            </div>
                                        </div>
                                        <div class="col-md-1 d-flex align-items-center justify-content-center">
                                            <i class="fas fa-arrow-right text-muted"></i>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="border rounded p-3 h-100">
                                                <i class="fas fa-check-circle fa-2x text-info mb-2"></i>
                                                <h6>4. Processed</h6>
                                                <small>Final destination</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="screenshot-placeholder mt-4">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Email client (Gmail/Outlook) showing the complete folder structure created by Mail-Rulez</p>
                            </div>

                            <div class="alert alert-success mt-4">
                                <h5><i class="fas fa-check-circle"></i> Folder Creation Complete!</h5>
                                <p>Once all folders are created successfully:</p>
                                <ul class="mb-0">
                                    <li>Your email account now has a complete organizational structure</li>
                                    <li>Mail-Rulez can begin processing and categorizing emails</li>
                                    <li>You can start setting up lists and rules for automation</li>
                                    <li>The foundation for intelligent email management is in place</li>
                                </ul>
                            </div>

                            <!-- User Journey Navigation -->
                            <div class="border-top pt-4 mt-4">
                                <div class="row">
                                    <div class="col-md-6">
                                        <p class="mb-0"><i class="fas fa-arrow-left text-muted"></i> <strong>Previous:</strong> <a href="#adding-accounts" class="nav-link d-inline p-0" data-section="adding-accounts">Adding Accounts</a></p>
                                    </div>
                                    <div class="col-md-6 text-md-end">
                                        <p class="mb-0"><strong>Next:</strong> <a href="#creating-rules" class="nav-link d-inline p-0" data-section="creating-rules">Creating Rules</a> <i class="fas fa-arrow-right text-muted"></i></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="creating-rules" class="content-section">
                    <div class="row">
                        <div class="col-lg-8">
                            <h2><i class="fas fa-magic text-primary"></i> Creating Rules</h2>
                            
                            <p class="lead">Rules are the heart of Mail-Rulez automation. They define how your emails are processed, organized, and managed based on conditions you specify. Think of rules as smart instructions that tell Mail-Rulez: "When you see an email that matches these criteria, perform these actions."</p>

                            <div class="alert alert-info">
                                <h5><i class="fas fa-lightbulb"></i> Rules Overview</h5>
                                <p>Each rule consists of two main parts:</p>
                                <ul class="mb-0">
                                    <li><strong>Conditions:</strong> What to look for in emails (sender, subject, content)</li>
                                    <li><strong>Actions:</strong> What to do with matching emails (move, categorize, mark)</li>
                                </ul>
                            </div>

                            <div class="alert alert-warning">
                                <h5><i class="fas fa-cog"></i> Processing Modes and Your Workflow</h5>
                                <p><strong>Before creating rules, focus on list management!</strong> Mail-Rulez uses two processing modes with different primary purposes:</p>
                                <ul>
                                    <li><strong>Startup Mode:</strong> <em>List-based cleanup</em> - Categorizes existing emails using sender lists (whitelist  Processed folder, blacklist  Junk, etc.)</li>
                                    <li><strong>Maintenance Mode:</strong> <em>Ongoing management</em> - Processes new emails but keeps legitimate emails accessible in INBOX</li>
                                </ul>
                                <p class="mb-0"><strong>Recommended workflow:</strong> Start with list management for dramatic inbox cleanup, then add rules for fine-tuned automation.</p>
                            </div>

                            <h3>Understanding Rule Components</h3>

                            <h4><i class="fas fa-search text-info"></i> Rule Conditions</h4>
                            <p>Conditions determine which emails trigger your rule. Mail-Rulez supports several types of conditions:</p>

                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Condition Type</th>
                                            <th>Description</th>
                                            <th>Example</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><code>Sender Contains</code></td>
                                            <td>Matches if sender email contains specific text</td>
                                            <td><code>amazon</code> matches emails from any Amazon service</td>
                                        </tr>
                                        <tr>
                                            <td><code>Sender Domain</code></td>
                                            <td>Matches emails from a specific domain</td>
                                            <td><code>linkedin.com</code> matches all LinkedIn emails</td>
                                        </tr>
                                        <tr>
                                            <td><code>Sender Exact</code></td>
                                            <td>Matches an exact sender email address</td>
                                            <td><code>noreply@github.com</code> matches only that address</td>
                                        </tr>
                                        <tr>
                                            <td><code>Subject Contains</code></td>
                                            <td>Matches if subject line contains specific text</td>
                                            <td><code>invoice</code> finds bills and receipts</td>
                                        </tr>
                                        <tr>
                                            <td><code>Subject Exact</code></td>
                                            <td>Matches an exact subject line</td>
                                            <td><code>Weekly Report</code> matches only that subject</td>
                                        </tr>
                                        <tr>
                                            <td><code>Subject Regex</code></td>
                                            <td>Advanced pattern matching using regular expressions</td>
                                            <td><code>Order #\d+</code> matches "Order #12345"</td>
                                        </tr>
                                        <tr>
                                            <td><code>Content Contains</code></td>
                                            <td>Searches within the email body text</td>
                                            <td><code>tracking number</code> finds shipping notifications</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="alert alert-warning">
                                <h6><i class="fas fa-exclamation-triangle"></i> Case Sensitivity</h6>
                                <p class="mb-0">By default, conditions are case-insensitive (<code>Amazon</code> matches <code>amazon</code>). You can check "Case Sensitive" if exact case matching is needed.</p>
                            </div>

                            <h4><i class="fas fa-cogs text-success"></i> Rule Actions</h4>
                            <p>Actions define what happens to emails that match your conditions:</p>

                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Action Type</th>
                                            <th>Description</th>
                                            <th>Target Example</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><code>Move to Folder</code></td>
                                            <td>Moves email to a specific folder</td>
                                            <td><code>INBOX.Packages</code>, <code>INBOX.LinkedIn</code></td>
                                        </tr>
                                        <tr>
                                            <td><code>Add to List</code></td>
                                            <td>Adds sender to a tracking list (creates list if needed)</td>
                                            <td><code>packages.txt</code>, <code>receipts.txt</code></td>
                                        </tr>
                                        <tr>
                                            <td><code>Mark as Read</code></td>
                                            <td>Automatically marks matching emails as read</td>
                                            <td>No target needed</td>
                                        </tr>
                                        <tr>
                                            <td><code>Forward Email</code></td>
                                            <td>Forwards matching emails to another address</td>
                                            <td><code>admin@company.com</code></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h4><i class="fas fa-exchange-alt text-info"></i> When to Focus on Rules</h4>
                            <p>Rules work in both processing modes, but their timing in your workflow matters:</p>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card border-warning">
                                        <div class="card-header bg-warning text-dark">
                                            <h6><i class="fas fa-list"></i> Start with Lists (Startup Mode)</h6>
                                        </div>
                                        <div class="card-body">
                                            <p class="card-text"><strong>Primary focus: List management</strong></p>
                                            <ul class="small">
                                                <li>Build whitelist, blacklist, and vendor lists</li>
                                                <li>Automatic categorization using <code>INBOX.Processed</code></li>
                                                <li>Dramatic inbox reduction with minimal effort</li>
                                                <li>Rules provide supplemental organization</li>
                                            </ul>
                                            <p class="small mb-0"><strong>Goal:</strong> Get from 10,000 emails to manageable hundreds through list-based sorting</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-success">
                                        <div class="card-header bg-success text-white">
                                            <h6><i class="fas fa-magic"></i> Optimize with Rules (Maintenance Mode)</h6>
                                        </div>
                                        <div class="card-body">
                                            <p class="card-text"><strong>Primary focus: Rule automation</strong></p>
                                            <ul class="small">
                                                <li>Fine-tune email handling for specific scenarios</li>
                                                <li>Legitimate emails stay accessible in INBOX</li>
                                                <li>Target specific workflows and exceptions</li>
                                                <li>Lists handle bulk categorization</li>
                                            </ul>
                                            <p class="small mb-0"><strong>Goal:</strong> Perfect your email workflow with precise automation</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-success mt-3">
                                <h6><i class="fas fa-lightbulb"></i> Workflow Strategy</h6>
                                <p class="mb-0"><strong>Phase 1:</strong> Use lists to bucket senders and clean up inbox quickly. <strong>Phase 2:</strong> Add rules for specific patterns and edge cases. This approach gives you immediate results followed by precision control.</p>
                            </div>

                            <h4><i class="fas fa-hands-helping text-warning"></i> How to Operate in Startup Mode</h4>
                            <p>Startup mode requires your active participation to train the system. Here's the hands-on process:</p>

                            <div class="card border-primary">
                                <div class="card-header bg-primary text-white">
                                    <h6><i class="fas fa-graduation-cap"></i> Training Mail-Rulez in Startup Mode</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-folder text-success"></i> Training Folders</h6>
                                            <p class="small">Move emails from your INBOX to these training folders:</p>
                                            <ul class="small">
                                                <li><code>INBOX._blacklist</code> - Blacklist training (junk/spam)</li>
                                                <li><code>INBOX._whitelist</code> - Whitelist training (trusted senders)</li>
                                                <li><code>INBOX._vendor</code> - Vendor training (newsletters, promotions)</li>
                                                <li><code>INBOX._headhunter</code> - Headhunter training (recruiters)</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-magic text-info"></i> What Happens Next</h6>
                                            <p class="small">Mail-Rulez learns from your training:</p>
                                            <ul class="small">
                                                <li><strong>Automatic Learning:</strong> Senders get added to appropriate lists</li>
                                                <li><strong>Batch Processing:</strong> Similar emails get categorized automatically</li>
                                                <li><strong>Folder Organization:</strong> Emails move to proper destinations</li>
                                                <li><strong>List Building:</strong> Your lists grow with each training session</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-warning mt-3">
                                <h6><i class="fas fa-exclamation-triangle"></i> Training Process</h6>
                                <ol>
                                    <li><strong>Move emails to training folders:</strong> Drag emails from INBOX to appropriate _blacklist, _whitelist, _vendor folders</li>
                                    <li><strong>Mail-Rulez processes automatically:</strong> System learns sender patterns and updates lists</li>
                                    <li><strong>Similar emails get categorized:</strong> Future emails from same senders are handled automatically</li>
                                    <li><strong>Repeat until inbox is manageable:</strong> Continue training until most emails are automatically sorted</li>
                                </ol>
                            </div>

                            <h4><i class="fas fa-inbox text-success"></i> Restoring Your Inbox Purpose</h4>
                            <p>The power of startup mode is transforming your inbox back to its intended function:</p>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card border-danger">
                                        <div class="card-header bg-danger text-white">
                                            <h6><i class="fas fa-times"></i> Before Mail-Rulez</h6>
                                        </div>
                                        <div class="card-body">
                                            <p class="card-text small">Your inbox is a storage system:</p>
                                            <ul class="small mb-0">
                                                <li>10,000+ emails sitting there</li>
                                                <li>Mix of important and junk</li>
                                                <li>Inbox as permanent storage</li>
                                                <li>Hard to find anything urgent</li>
                                                <li>Overwhelming and stressful</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-success">
                                        <div class="card-header bg-success text-white">
                                            <h6><i class="fas fa-check"></i> After Mail-Rulez Startup</h6>
                                        </div>
                                        <div class="card-body">
                                            <p class="card-text small">Your inbox is an action center:</p>
                                            <ul class="small mb-0">
                                                <li>Only emails needing action/response</li>
                                                <li>Processed emails filed in organized folders</li>
                                                <li>Inbox stays clean and manageable</li>
                                                <li>Easy to spot urgent communications</li>
                                                <li>Stress-free email management</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-info mt-3">
                                <h6><i class="fas fa-folder-open"></i> Filing Processed Emails</h6>
                                <p>Once emails move to <code>INBOX.Processed</code>, you can:</p>
                                <ul class="mb-0">
                                    <li><strong>File by topic:</strong> Move to folders like <code>INBOX.Work</code>, <code>INBOX.Personal</code>, <code>INBOX.Archive</code></li>
                                    <li><strong>File by date:</strong> Create monthly/yearly archive folders</li>
                                    <li><strong>File by sender:</strong> Create folders for important contacts or companies</li>
                                    <li><strong>Leave for reference:</strong> Keep recent processed emails for easy access</li>
                                </ul>
                            </div>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-3x text-muted mb-3"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Rule creation interface showing condition and action configuration panels</p>
                            </div>

                            <h3>Rule Logic and Priority</h3>

                            <h4><i class="fas fa-sitemap text-warning"></i> Condition Logic</h4>
                            <p>When you have multiple conditions, you can specify how they work together:</p>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="fas fa-link text-primary"></i> AND Logic</h5>
                                            <p class="card-text">All conditions must match for the rule to trigger.</p>
                                            <div class="card-text">
                                                <strong>Example:</strong><br>
                                                Sender contains "amazon" <strong>AND</strong><br>
                                                Subject contains "shipped"<br>
                                                <small class="text-muted"> Only matches Amazon shipping notifications</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="fas fa-code-branch text-success"></i> OR Logic</h5>
                                            <p class="card-text">Any single condition matching will trigger the rule.</p>
                                            <div class="card-text">
                                                <strong>Example:</strong><br>
                                                Sender domain "fedex.com" <strong>OR</strong><br>
                                                Sender domain "ups.com"<br>
                                                <small class="text-muted"> Matches any shipping company</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <h4><i class="fas fa-sort-numeric-down text-info"></i> Rule Priority</h4>
                            <p>Rules are processed in priority order (lower numbers = higher priority). This means:</p>
                            <ul>
                                <li><strong>Priority 10</strong> runs before <strong>Priority 100</strong></li>
                                <li>Important rules should have lower numbers</li>
                                <li>General catch-all rules should have higher numbers</li>
                                <li>Default priority is 100</li>
                            </ul>

                            <div class="alert alert-success">
                                <h6><i class="fas fa-trophy"></i> Priority Best Practice</h6>
                                <p class="mb-0">Use priority ranges like: <strong>1-10</strong> for critical rules, <strong>50-100</strong> for normal rules, <strong>200+</strong> for general cleanup rules.</p>
                            </div>

                            <h3>Creating Your First Rule</h3>

                            <p>Let's walk through creating a practical rule that handles a specific email pattern not covered by templates:</p>

                            <div class="card">
                                <div class="card-header">
                                    <h5><i class="fas fa-calendar text-primary"></i> Example: Meeting Invitations Rule</h5>
                                </div>
                                <div class="card-body">
                                    <h6>Goal:</h6>
                                    <p>Automatically organize meeting invitations and calendar-related emails for easy access.</p>
                                    
                                    <h6>Rule Setup:</h6>
                                    <table class="table table-sm">
                                        <tr><td><strong>Name:</strong></td><td>Meeting Invitations</td></tr>
                                        <tr><td><strong>Description:</strong></td><td>Organize calendar invites and meeting-related emails</td></tr>
                                        <tr><td><strong>Priority:</strong></td><td>75</td></tr>
                                        <tr><td><strong>Logic:</strong></td><td>OR (any meeting-related term)</td></tr>
                                    </table>
                                    
                                    <h6>Conditions (OR logic):</h6>
                                    <ul>
                                        <li>Subject Contains: <code>meeting</code></li>
                                        <li>Subject Contains: <code>invitation</code></li>
                                        <li>Subject Contains: <code>calendar</code></li>
                                        <li>Subject Contains: <code>zoom</code></li>
                                        <li>Content Contains: <code>join the meeting</code></li>
                                    </ul>
                                    
                                    <h6>Actions:</h6>
                                    <ul>
                                        <li>Move to Folder: <code>INBOX.Meetings</code></li>
                                        <li>Add to List: <code>meeting-senders.txt</code></li>
                                    </ul>

                                    <div class="alert alert-info mt-3">
                                        <h6><i class="fas fa-lightbulb"></i> Why This Rule Works</h6>
                                        <ul class="mb-0">
                                            <li><strong>Multiple condition types:</strong> Combines subject and content matching</li>
                                            <li><strong>OR logic:</strong> Catches various meeting invitation formats</li>
                                            <li><strong>Custom folder:</strong> Creates dedicated space for time-sensitive emails</li>
                                            <li><strong>List building:</strong> Tracks who sends meeting invites for future reference</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="screenshot-placeholder mt-4">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Completed meeting invitations rule showing multiple OR conditions with subject and content matching</p>
                            </div>

                            <h3>Pre-Built Rule Templates</h3>

                            <p>Mail-Rulez includes several pre-built templates to get you started quickly. These cover common email patterns and can be activated with one click:</p>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <div class="card h-100">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="fas fa-box text-primary"></i> Package Delivery</h5>
                                            <p class="card-text">Organizes shipping notifications from FedEx, UPS, USPS, Amazon, and DHL.</p>
                                            <small class="text-muted">Creates: INBOX.Packages folder, packages.txt list</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="card h-100">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="fas fa-receipt text-success"></i> Receipts & Invoices</h5>
                                            <p class="card-text">Catches financial documents containing words like "invoice," "receipt," "bill," or "statement."</p>
                                            <small class="text-muted">Creates: INBOX.Receipts folder, receipts.txt list</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="card h-100">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="fas fa-linkedin text-info"></i> LinkedIn Notifications</h5>
                                            <p class="card-text">Organizes all LinkedIn professional networking emails.</p>
                                            <small class="text-muted">Creates: INBOX.LinkedIn folder, linkedin.txt list</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="card h-100">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="fas fa-user-tie text-warning"></i> Head Hunter Recruiters</h5>
                                            <p class="card-text">Filters recruitment emails with keywords like "opportunity," "position," and "recruiting."</p>
                                            <small class="text-muted">Creates: INBOX.HeadHunt folder, head.txt list</small>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-info">
                                <h6><i class="fas fa-magic"></i> Templates vs Custom Rules</h6>
                                <p><strong>Start with templates</strong> for common scenarios like package delivery, receipts, and social media notifications. These are battle-tested and work immediately.</p>
                                <p class="mb-0"><strong>Create custom rules</strong> for your specific workflow needs (like the meeting invitations example above). This gives you precise control over unique email patterns.</p>
                            </div>

                            <h3>Advanced Rule Techniques</h3>

                            <h4><i class="fas fa-layer-group text-success"></i> Multiple Actions</h4>
                            <p>A single rule can perform multiple actions on matching emails:</p>
                            <div class="code-block">
                                <strong>Example - Complete Package Processing:</strong><br>
                                1. Move to Folder: <code>INBOX.Packages</code><br>
                                2. Add to List: <code>packages.txt</code><br>
                                3. Mark as Read: (for less important notifications)<br>
                                4. Forward: <code>assistant@company.com</code> (for important deliveries)
                            </div>

                            <h4><i class="fas fa-code text-info"></i> Regular Expressions</h4>
                            <p>For advanced users, regex conditions provide powerful pattern matching:</p>
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr><th>Pattern</th><th>Matches</th><th>Example</th></tr>
                                    </thead>
                                    <tbody>
                                        <tr><td><code>Order #\d+</code></td><td>Order numbers</td><td>"Order #12345"</td></tr>
                                        <tr><td><code>\$\d+\.\d{2}</code></td><td>Dollar amounts</td><td>"$29.99", "$1,234.56"</td></tr>
                                        <tr><td><code>(urgent|important|asap)</code></td><td>Priority keywords</td><td>"Urgent request"</td></tr>
                                    </tbody>
                                </table>
                            </div>

                            <h4><i class="fas fa-list-alt text-warning"></i> Custom Lists</h4>
                            <p>The "Add to List" action is powerful for building custom sender tracking:</p>
                            <ul>
                                <li><strong>Family emails:</strong> <code>family.txt</code></li>
                                <li><strong>Work colleagues:</strong> <code>work-team.txt</code></li>
                                <li><strong>Newsletter subscriptions:</strong> <code>newsletters.txt</code></li>
                                <li><strong>Service notifications:</strong> <code>services.txt</code></li>
                            </ul>
                            <p>These lists are automatically created and can be managed from the Lists page.</p>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Advanced rule configuration showing multiple actions and regex conditions</p>
                            </div>

                            <h3>Rule Best Practices</h3>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card border-success">
                                        <div class="card-header bg-success text-white">
                                            <h6><i class="fas fa-check"></i> Do These</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li>Start with simple, specific rules</li>
                                                <li>Use descriptive rule names</li>
                                                <li>Test rules with a few emails first</li>
                                                <li>Set appropriate priorities</li>
                                                <li>Use templates as starting points</li>
                                                <li>Consider startup vs. maintenance mode impact</li>
                                                <li>Review and adjust rules regularly</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-warning">
                                        <div class="card-header bg-warning text-dark">
                                            <h6><i class="fas fa-exclamation-triangle"></i> Avoid These</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li>Overly broad conditions that catch too much</li>
                                                <li>Conflicting rules with same priority</li>
                                                <li>Too many complex regex patterns</li>
                                                <li>Rules without clear purposes</li>
                                                <li>Forgetting to test new rules</li>
                                                <li>Creating too many similar rules</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <h3>Testing and Troubleshooting Rules</h3>

                            <div class="alert alert-primary">
                                <h6><i class="fas fa-flask"></i> Rule Testing Tips</h6>
                                <p>Before activating new rules:</p>
                                <ul class="mb-0">
                                    <li>Start with rules marked as <strong>inactive</strong> for testing</li>
                                    <li>Use specific conditions to test with a few emails</li>
                                    <li>Check the email processing logs for rule matches</li>
                                    <li>Verify folders and lists are created correctly</li>
                                </ul>
                            </div>

                            <h4>Common Issues and Solutions</h4>
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr><th>Problem</th><th>Cause</th><th>Solution</th></tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Rule not triggering</td>
                                            <td>Conditions too specific</td>
                                            <td>Broaden conditions or check case sensitivity</td>
                                        </tr>
                                        <tr>
                                            <td>Wrong emails matching</td>
                                            <td>Conditions too broad</td>
                                            <td>Add more specific conditions with AND logic</td>
                                        </tr>
                                        <tr>
                                            <td>Folder not found error</td>
                                            <td>Folder doesn't exist</td>
                                            <td>Use folder creation feature or check folder names</td>
                                        </tr>
                                        <tr>
                                            <td>Rule conflicts</td>
                                            <td>Multiple rules affecting same emails</td>
                                            <td>Adjust priorities or refine conditions</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="alert alert-success mt-4">
                                <h5><i class="fas fa-check-circle"></i> Ready to Create Rules!</h5>
                                <p>Now that you understand how rules work, you can:</p>
                                <ul class="mb-0">
                                    <li>Start with pre-built templates for common scenarios</li>
                                    <li>Create custom rules for your specific email patterns</li>
                                    <li>Combine rules with list management for powerful automation</li>
                                    <li>Monitor rule performance through the dashboard and logs</li>
                                </ul>
                            </div>

                            <!-- User Journey Navigation -->
                            <div class="border-top pt-4 mt-4">
                                <div class="row">
                                    <div class="col-md-6">
                                        <p class="mb-0"><i class="fas fa-arrow-left text-muted"></i> <strong>Previous:</strong> <a href="#adding-folders" class="nav-link d-inline p-0" data-section="adding-folders">Adding Folders</a></p>
                                    </div>
                                    <div class="col-md-6 text-md-end">
                                        <p class="mb-0"><strong>Next:</strong> <a href="#list-management" class="nav-link d-inline p-0" data-section="list-management">List Management</a> <i class="fas fa-arrow-right text-muted"></i></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="list-management" class="content-section">
                    <h2><i class="fas fa-list text-primary"></i> List Management</h2>
                    
                    <div class="row">
                        <div class="col-lg-8">
                            <p class="lead">List Management is the <strong>primary tool</strong> for cleaning up your inbox during startup mode. By categorizing email senders into whitelist, blacklist, vendor, and headhunter lists, you'll see dramatic improvements in inbox organization within days.</p>
                            
                            <div class="alert alert-success">
                                <h6><i class="fas fa-lightbulb"></i> Why Lists First?</h6>
                                <p class="mb-0">Lists provide <strong>immediate impact</strong> with minimal setup. Moving emails to training folders teaches Mail-Rulez your preferences, enabling automatic categorization that transforms your inbox from hundreds of mixed emails into organized, manageable folders.</p>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-graduation-cap text-success"></i> Understanding Training Folders</h3>
                            </div>

                            <p>Training folders are your primary interface for teaching Mail-Rulez about your email preferences. Each training folder corresponds to a specific list type:</p>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card border-success mb-3">
                                        <div class="card-header bg-success text-white">
                                            <h6 class="mb-0"><i class="fas fa-thumbs-up"></i> Whitelist Training</h6>
                                        </div>
                                        <div class="card-body">
                                            <p><strong>Folder:</strong> <code>_whitelist</code></p>
                                            <p><strong>Purpose:</strong> Trusted senders you always want to see</p>
                                            <p><strong>Examples:</strong> Family, friends, colleagues, important services</p>
                                            <p><strong>Result:</strong> Future emails go to INBOX.Processed folder</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-danger mb-3">
                                        <div class="card-header bg-danger text-white">
                                            <h6 class="mb-0"><i class="fas fa-thumbs-down"></i> Blacklist Training</h6>
                                        </div>
                                        <div class="card-body">
                                            <p><strong>Folder:</strong> <code>_blacklist</code></p>
                                            <p><strong>Purpose:</strong> Unwanted senders to block</p>
                                            <p><strong>Examples:</strong> Spam, unwanted newsletters, scams</p>
                                            <p><strong>Result:</strong> Future emails go directly to Junk folder</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card border-info mb-3">
                                        <div class="card-header bg-info text-white">
                                            <h6 class="mb-0"><i class="fas fa-store"></i> Vendor Training</h6>
                                        </div>
                                        <div class="card-body">
                                            <p><strong>Folder:</strong> <code>_vendor</code></p>
                                            <p><strong>Purpose:</strong> Marketing emails you occasionally want</p>
                                            <p><strong>Examples:</strong> Store promotions, newsletters, deals</p>
                                            <p><strong>Result:</strong> Future emails go to Approved Ads folder</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-secondary mb-3">
                                        <div class="card-header bg-secondary text-white">
                                            <h6 class="mb-0"><i class="fas fa-user-tie"></i> Headhunter Training</h6>
                                        </div>
                                        <div class="card-body">
                                            <p><strong>Folder:</strong> <code>_headhunter</code></p>
                                            <p><strong>Purpose:</strong> Job hunting and recruiting emails</p>
                                            <p><strong>Examples:</strong> Recruiters, job alerts, career sites</p>
                                            <p><strong>Result:</strong> Future emails go to HeadHunt folder</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Training folders in email client showing _whitelist, _blacklist, _vendor, and _headhunter folders with example emails moved into each</p>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-hands-helping text-warning"></i> Hands-On Training Process</h3>
                            </div>

                            <p>Training Mail-Rulez is simple: <strong>drag and drop emails</strong> from your inbox into the appropriate training folders. Mail-Rulez monitors these folders and learns from your decisions.</p>

                            <div class="alert alert-info">
                                <h6><i class="fas fa-clock"></i> How Often Does Training Happen?</h6>
                                <p>Mail-Rulez checks training folders <strong>every 4 minutes</strong> and immediately processes any emails you've moved there. You'll see results within minutes of your training actions.</p>
                            </div>

                            <div class="accordion" id="trainingProcessAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#training-step1">
                                            <i class="fas fa-step-forward text-success me-3"></i>Step 1: Start with Your Inbox
                                        </button>
                                    </h2>
                                    <div id="training-step1" class="accordion-collapse collapse show" data-bs-parent="#trainingProcessAccordion">
                                        <div class="accordion-body">
                                            <ol>
                                                <li><strong>Open your email client</strong> (Outlook, Thunderbird, Apple Mail, etc.)</li>
                                                <li><strong>Navigate to your Inbox</strong> - you should see mixed emails from various senders</li>
                                                <li><strong>Look for the training folders</strong> that Mail-Rulez created:
                                                    <ul>
                                                        <li><code>_whitelist</code></li>
                                                        <li><code>_blacklist</code></li>
                                                        <li><code>_vendor</code></li>
                                                        <li><code>_headhunter</code> (if applicable)</li>
                                                    </ul>
                                                </li>
                                                <li><strong>Start with obvious choices</strong> - emails you clearly want to keep or block</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#training-step2">
                                            <i class="fas fa-step-forward text-success me-3"></i>Step 2: Categorize Trusted Senders
                                        </button>
                                    </h2>
                                    <div id="training-step2" class="accordion-collapse collapse" data-bs-parent="#trainingProcessAccordion">
                                        <div class="accordion-body">
                                            <h6><strong>Move emails to <code>_whitelist</code> folder:</strong></h6>
                                            <ul>
                                                <li><strong>Personal contacts:</strong> Family, friends, personal acquaintances</li>
                                                <li><strong>Work communications:</strong> Colleagues, clients, business partners</li>
                                                <li><strong>Important services:</strong> Bank notifications, medical providers, utilities</li>
                                                <li><strong>Trusted subscriptions:</strong> News sources you read, professional newsletters</li>
                                                <li><strong>Account notifications:</strong> Social media, software updates, security alerts</li>
                                            </ul>
                                            
                                            <div class="alert alert-success">
                                                <strong>Pro Tip:</strong> When in doubt, choose whitelist over blacklist. It's easier to move something to junk later than to miss an important email.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#training-step3">
                                            <i class="fas fa-step-forward text-danger me-3"></i>Step 3: Block Unwanted Senders
                                        </button>
                                    </h2>
                                    <div id="training-step3" class="accordion-collapse collapse" data-bs-parent="#trainingProcessAccordion">
                                        <div class="accordion-body">
                                            <h6><strong>Move emails to <code>_blacklist</code> folder:</strong></h6>
                                            <ul>
                                                <li><strong>Obvious spam:</strong> Phishing attempts, scams, random promotions</li>
                                                <li><strong>Unwanted subscriptions:</strong> Lists you never signed up for</li>
                                                <li><strong>Persistent marketers:</strong> Companies that ignore unsubscribe requests</li>
                                                <li><strong>Outdated communications:</strong> Ex-employers, old services, closed accounts</li>
                                                <li><strong>Annoying senders:</strong> Anyone whose emails you never want to see</li>
                                            </ul>
                                            
                                            <div class="alert alert-warning">
                                                <strong>Be Careful:</strong> Double-check before blacklisting. Consider whether the sender might ever send something important.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#training-step4">
                                            <i class="fas fa-step-forward text-info me-3"></i>Step 4: Handle Marketing Emails
                                        </button>
                                    </h2>
                                    <div id="training-step4" class="accordion-collapse collapse" data-bs-parent="#trainingProcessAccordion">
                                        <div class="accordion-body">
                                            <h6><strong>Move emails to <code>_vendor</code> folder:</strong></h6>
                                            <ul>
                                                <li><strong>Store promotions:</strong> Retailers you shop with occasionally</li>
                                                <li><strong>Deal sites:</strong> Groupon, daily deal newsletters</li>
                                                <li><strong>Service providers:</strong> Software companies, subscription services</li>
                                                <li><strong>Professional newsletters:</strong> Industry updates, tech newsletters</li>
                                                <li><strong>Event notifications:</strong> Webinars, conferences, meetups</li>
                                            </ul>
                                            
                                            <div class="alert alert-info">
                                                <strong>Strategy:</strong> Vendor emails go to a separate folder where you can review them when convenient, keeping your inbox clean for important communications.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-magic text-purple"></i> Automatic List Processing</h3>
                            </div>

                            <p>Once you move emails to training folders, Mail-Rulez automatically:</p>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="text-center">
                                        <i class="fas fa-search fa-3x text-primary mb-3"></i>
                                        <h5>Extracts Sender</h5>
                                        <p>Identifies the email address and domain of the sender</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="text-center">
                                        <i class="fas fa-plus-circle fa-3x text-success mb-3"></i>
                                        <h5>Updates Lists</h5>
                                        <p>Adds sender to the appropriate list file (white.txt, black.txt, vendor.txt)</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="text-center">
                                        <i class="fas fa-folder-open fa-3x text-warning mb-3"></i>
                                        <h5>Files Email</h5>
                                        <p>Moves the training email to its final destination folder</p>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-success mt-4">
                                <h6><i class="fas fa-rocket"></i> Immediate Impact</h6>
                                <p>Within 5 minutes of your training actions, new emails from those senders will be automatically categorized. You'll start seeing inbox cleanup results immediately!</p>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-desktop text-info"></i> Web-Based List Management</h3>
                            </div>

                            <p>While training folders provide hands-on learning, Mail-Rulez also offers a powerful web interface for direct list management:</p>

                            <div class="screenshot-placeholder">
                                <i class="fas fa-camera fa-2x text-muted mb-2"></i>
                                <p class="text-muted"><strong>Screenshot Placeholder:</strong> Mail-Rulez web interface showing the Lists page with drag-and-drop management, search functionality, and bulk operations</p>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-header bg-primary text-white">
                                            <h6 class="mb-0"><i class="fas fa-mouse-pointer"></i> Drag & Drop Management</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li>Move entries between lists by dragging</li>
                                                <li>Visual feedback during operations</li>
                                                <li>Automatic list updates</li>
                                                <li>Undo functionality for mistakes</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-header bg-success text-white">
                                            <h6 class="mb-0"><i class="fas fa-search"></i> Advanced Search & Filter</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li>Search across all lists simultaneously</li>
                                                <li>Filter by domain or sender pattern</li>
                                                <li>Find duplicate entries</li>
                                                <li>Quick navigation between lists</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-header bg-warning text-dark">
                                            <h6 class="mb-0"><i class="fas fa-layer-group"></i> Bulk Operations</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li>Select multiple entries for batch actions</li>
                                                <li>Mass delete unwanted entries</li>
                                                <li>Bulk move between lists</li>
                                                <li>Import/export list data</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-header bg-info text-white">
                                            <h6 class="mb-0"><i class="fas fa-exclamation-triangle"></i> Conflict Resolution</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li>Automatic detection of conflicting entries</li>
                                                <li>Visual warnings for overlapping lists</li>
                                                <li>Guided resolution process</li>
                                                <li>Priority-based conflict handling</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-balance-scale text-warning"></i> Handling List Conflicts</h3>
                            </div>

                            <p>Sometimes the same sender might appear in multiple lists. Mail-Rulez uses a clear priority system to resolve conflicts:</p>

                            <div class="card">
                                <div class="card-header bg-light">
                                    <h6 class="mb-0"><i class="fas fa-sort-numeric-down"></i> Priority Order (Highest to Lowest)</h6>
                                </div>
                                <div class="card-body">
                                    <ol>
                                        <li><strong class="text-danger">Blacklist</strong> - Always takes precedence for security</li>
                                        <li><strong class="text-success">Whitelist</strong> - Trusted senders get priority</li>
                                        <li><strong class="text-info">Vendor</strong> - Marketing emails to appropriate folder</li>
                                        <li><strong class="text-secondary">Headhunter</strong> - Specialized job hunting category</li>
                                    </ol>
                                    
                                    <div class="alert alert-warning mt-3">
                                        <h6><i class="fas fa-shield-alt"></i> Security First</h6>
                                        <p class="mb-0">If a sender appears in both whitelist and blacklist, <strong>blacklist always wins</strong>. This prevents potentially harmful emails from reaching your inbox, even if you previously trusted the sender.</p>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-chart-line text-success"></i> Measuring List Effectiveness</h3>
                            </div>

                            <p>Track the impact of your list management with built-in analytics:</p>

                            <div class="row">
                                <div class="col-md-3 text-center">
                                    <div class="card border-success">
                                        <div class="card-body">
                                            <i class="fas fa-inbox fa-2x text-success mb-2"></i>
                                            <h5>Inbox Reduction</h5>
                                            <p class="text-muted">Percentage of emails automatically filed</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 text-center">
                                    <div class="card border-primary">
                                        <div class="card-body">
                                            <i class="fas fa-users fa-2x text-primary mb-2"></i>
                                            <h5>List Growth</h5>
                                            <p class="text-muted">Senders added over time</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 text-center">
                                    <div class="card border-warning">
                                        <div class="card-body">
                                            <i class="fas fa-filter fa-2x text-warning mb-2"></i>
                                            <h5>Processing Rate</h5>
                                            <p class="text-muted">Emails automatically categorized</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 text-center">
                                    <div class="card border-info">
                                        <div class="card-body">
                                            <i class="fas fa-clock fa-2x text-info mb-2"></i>
                                            <h5>Time Saved</h5>
                                            <p class="text-muted">Minutes saved per day</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-lightbulb text-warning"></i> List Management Best Practices</h3>
                            </div>

                            <div class="accordion" id="bestPracticesAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#practice-start">
                                            <i class="fas fa-play text-success me-3"></i>Getting Started Effectively
                                        </button>
                                    </h2>
                                    <div id="practice-start" class="accordion-collapse collapse show" data-bs-parent="#bestPracticesAccordion">
                                        <div class="accordion-body">
                                            <ul>
                                                <li><strong>Start with 15 minutes daily</strong> - Consistent small efforts are better than long sessions</li>
                                                <li><strong>Focus on obvious choices first</strong> - Clear spam and trusted senders provide immediate impact</li>
                                                <li><strong>Process newest emails first</strong> - These patterns are most relevant to current email traffic</li>
                                                <li><strong>Don't overthink edge cases</strong> - You can always adjust lists later</li>
                                                <li><strong>Use your email client's search</strong> - Find all emails from a sender before categorizing</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#practice-maintain">
                                            <i class="fas fa-cogs text-primary me-3"></i>Ongoing Maintenance
                                        </button>
                                    </h2>
                                    <div id="practice-maintain" class="accordion-collapse collapse" data-bs-parent="#bestPracticesAccordion">
                                        <div class="accordion-body">
                                            <ul>
                                                <li><strong>Review pending folder weekly</strong> - Categorize unknown senders that Mail-Rulez couldn't classify</li>
                                                <li><strong>Check processed folder monthly</strong> - Ensure important emails aren't being mis-categorized</li>
                                                <li><strong>Clean up duplicate entries</strong> - Use the web interface to find and remove duplicates</li>
                                                <li><strong>Update seasonal senders</strong> - Add holiday retailers, tax services during relevant periods</li>
                                                <li><strong>Archive old vendor entries</strong> - Remove companies you no longer do business with</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#practice-advanced">
                                            <i class="fas fa-graduation-cap text-info me-3"></i>Advanced Techniques
                                        </button>
                                    </h2>
                                    <div id="practice-advanced" class="accordion-collapse collapse" data-bs-parent="#bestPracticesAccordion">
                                        <div class="accordion-body">
                                            <ul>
                                                <li><strong>Domain-level categorization</strong> - Add entire domains (e.g., @company.com) instead of individual addresses</li>
                                                <li><strong>Seasonal list management</strong> - Create temporary entries for holiday shopping, tax season</li>
                                                <li><strong>Export and backup lists</strong> - Regular backups protect your categorization work</li>
                                                <li><strong>Pattern recognition</strong> - Look for similar sender patterns to batch categorize</li>
                                                <li><strong>Integration with rules</strong> - Use lists as conditions in advanced rules for complex logic</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-transition text-info"></i> Transitioning to Maintenance Mode</h3>
                            </div>

                            <p>Once your lists are well-established and your inbox is manageable, you can transition from startup mode to maintenance mode:</p>

                            <div class="alert alert-info">
                                <h6><i class="fas fa-info-circle"></i> Ready for Maintenance Mode?</h6>
                                <p>Mail-Rulez will suggest transitioning when:</p>
                                <ul class="mb-0">
                                    <li>Your pending folder has fewer than 50 emails</li>
                                    <li>You've been running startup mode for at least 2 weeks</li>
                                    <li>The system is processing emails with less than 5% error rate</li>
                                    <li>No recent connection or processing errors</li>
                                </ul>
                            </div>

                            <div class="card">
                                <div class="card-header bg-light">
                                    <h6 class="mb-0"><i class="fas fa-exchange-alt"></i> Mode Differences</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6><strong>Startup Mode</strong></h6>
                                            <ul>
                                                <li>Processes existing emails in batches</li>
                                                <li>Whitelisted emails move to Processed folder</li>
                                                <li>Heavy focus on list-based learning</li>
                                                <li>User actively trains system</li>
                                                <li>More conservative email handling</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><strong>Maintenance Mode</strong></h6>
                                            <ul>
                                                <li>Processes only new incoming emails</li>
                                                <li>Whitelisted emails stay in Inbox</li>
                                                <li>Rules become primary processing method</li>
                                                <li>Lists provide baseline categorization</li>
                                                <li>More automated, hands-off operation</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Navigation -->
                            <div class="row mt-5">
                                <div class="col-md-6">
                                    <div class="card border-light">
                                        <div class="card-body text-center">
                                            <p class="mb-0"><i class="fas fa-arrow-left text-muted"></i> <strong>Previous:</strong> <a href="#creating-rules" class="nav-link d-inline p-0" data-section="creating-rules">Creating Rules</a></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-light">
                                        <div class="card-body text-center">
                                            <p class="mb-0"><strong>Next:</strong> <a href="#troubleshooting" class="nav-link d-inline p-0" data-section="troubleshooting">Troubleshooting</a> <i class="fas fa-arrow-right text-muted"></i></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-4">
                            <div class="sticky-top">
                                <div class="card">
                                    <div class="card-header bg-primary text-white">
                                        <h6 class="mb-0"><i class="fas fa-list-check"></i> Quick Reference</h6>
                                    </div>
                                    <div class="card-body">
                                        <h6><strong>Training Folders</strong></h6>
                                        <ul class="list-unstyled ms-2">
                                            <li><i class="text-success fas fa-circle fa-xs"></i> _whitelist  Processed</li>
                                            <li><i class="text-danger fas fa-circle fa-xs"></i> _blacklist  Junk</li>
                                            <li><i class="text-info fas fa-circle fa-xs"></i> _vendor  Approved Ads</li>
                                            <li><i class="text-secondary fas fa-circle fa-xs"></i> _headhunter  HeadHunt</li>
                                        </ul>
                                        
                                        <h6 class="mt-3"><strong>Processing Frequency</strong></h6>
                                        <ul class="list-unstyled ms-2">
                                            <li>Training folders: Every 4 minutes</li>
                                            <li>Inbox processing: Every 5 minutes</li>
                                            <li>List updates: Immediate</li>
                                        </ul>
                                        
                                        <h6 class="mt-3"><strong>Conflict Priority</strong></h6>
                                        <ol class="ms-2">
                                            <li>Blacklist (highest)</li>
                                            <li>Whitelist</li>
                                            <li>Vendor</li>
                                            <li>Headhunter (lowest)</li>
                                        </ol>
                                    </div>
                                </div>
                                
                                <div class="card mt-3">
                                    <div class="card-header bg-success text-white">
                                        <h6 class="mb-0"><i class="fas fa-rocket"></i> Quick Start</h6>
                                    </div>
                                    <div class="card-body">
                                        <p class="card-text">For immediate impact:</p>
                                        <ol class="card-text">
                                            <li>Spend 15 minutes moving obvious spam to <code>_blacklist</code></li>
                                            <li>Move family/friends emails to <code>_whitelist</code></li>
                                            <li>Move store promotions to <code>_vendor</code></li>
                                            <li>Wait 5 minutes and see results!</li>
                                        </ol>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="troubleshooting" class="content-section">
                    <h2><i class="fas fa-tools text-primary"></i> Troubleshooting</h2>
                    
                    <div class="row">
                        <div class="col-lg-8">
                            <p class="lead">When Mail-Rulez isn't working as expected, this troubleshooting guide will help you quickly identify and resolve common issues. Most problems fall into a few categories that are easy to diagnose and fix.</p>
                            
                            <div class="alert alert-info">
                                <h6><i class="fas fa-phone-alt"></i> Need More Help?</h6>
                                <p class="mb-0">If these solutions don't resolve your issue, check the system logs in the web interface or contact support with specific error messages and your configuration details.</p>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-key text-warning"></i> Password Recovery</h3>
                            </div>

                            <p>Mail-Rulez provides two methods for password recovery if you're locked out of the admin interface:</p>

                            <div class="accordion" id="passwordRecoveryAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#web-password-reset">
                                            <i class="fas fa-globe text-primary me-3"></i>Method 1: Web Interface Password Reset (Recommended)
                                        </button>
                                    </h2>
                                    <div id="web-password-reset" class="accordion-collapse collapse show" data-bs-parent="#passwordRecoveryAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Use this method when the web interface is accessible but you've forgotten your password:</strong></p>
                                            <ol>
                                                <li><strong>Navigate to password reset:</strong> Go to <code>/auth/password-reset/request</code> in your browser</li>
                                                <li><strong>Enter admin username:</strong> Type your admin username to generate a reset token</li>
                                                <li><strong>Copy the reset token:</strong> You'll be redirected to a dedicated token display page with a copy button</li>
                                                <li><strong>Continue to reset form:</strong> Click "Continue to Reset Password" (token auto-populated)</li>
                                                <li><strong>Set new password:</strong> Enter and confirm your new password to complete the reset</li>
                                            </ol>
                                            
                                            <div class="alert alert-success">
                                                <h6><i class="fas fa-shield-alt"></i> Security Features</h6>
                                                <ul class="mb-0">
                                                    <li>Reset tokens are encrypted and expire after 1 hour</li>
                                                    <li>Tokens are single-use and cannot be reused</li>
                                                    <li>All password resets are logged in security logs</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#cli-password-reset">
                                            <i class="fas fa-terminal text-secondary me-3"></i>Method 2: CLI Password Reset (Emergency)
                                        </button>
                                    </h2>
                                    <div id="cli-password-reset" class="accordion-collapse collapse" data-bs-parent="#passwordRecoveryAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Use this method when the web interface is completely inaccessible:</strong></p>
                                            
                                            <div class="alert alert-warning">
                                                <strong>Requirements:</strong> You need physical or SSH access to the server running Mail-Rulez.
                                            </div>
                                            
                                            <h6><strong>For Local Installation:</strong></h6>
                                            <div class="code-block">
# Navigate to Mail-Rulez directory
cd /path/to/mail-rulez

# Run the password reset tool
python admin_password_reset.py
                                            </div>
                                            
                                            <h6><strong>For Virtual Environment:</strong></h6>
                                            <div class="code-block">
# Activate virtual environment
source ~/virtual-envs/mail-rulez/bin/activate

# Run password reset
python admin_password_reset.py
                                            </div>
                                            
                                            <h6><strong>For Docker Installation:</strong></h6>
                                            <div class="code-block">
# Access running container
docker exec -it mail-rulez-container bash

# Run password reset inside container
python admin_password_reset.py
                                            </div>
                                            
                                            <p class="mt-3">Follow the prompts to create a new admin password. The tool will update the <code>.admin_user</code> file with your new credentials.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-plug text-danger"></i> Connection Issues</h3>
                            </div>

                            <p>Connection problems are the most common issues with Mail-Rulez. Here's how to diagnose and fix them:</p>

                            <div class="accordion" id="connectionIssuesAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#imap-connection-failed">
                                            <i class="fas fa-exclamation-triangle text-danger me-3"></i>IMAP Connection Failed
                                        </button>
                                    </h2>
                                    <div id="imap-connection-failed" class="accordion-collapse collapse show" data-bs-parent="#connectionIssuesAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Symptoms:</strong> "Connection failed", "Login failed", or timeout errors</p>
                                            
                                            <h6><strong>Check These Items:</strong></h6>
                                            <ol>
                                                <li><strong>Server address and port:</strong>
                                                    <ul>
                                                        <li>Gmail: <code>imap.gmail.com:993</code> (SSL)</li>
                                                        <li>Outlook: <code>outlook.office365.com:993</code> (SSL)</li>
                                                        <li>Yahoo: <code>imap.mail.yahoo.com:993</code> (SSL)</li>
                                                    </ul>
                                                </li>
                                                <li><strong>App passwords:</strong> Most providers require app-specific passwords instead of your regular password</li>
                                                <li><strong>Two-factor authentication:</strong> Must be enabled before generating app passwords</li>
                                                <li><strong>Security settings:</strong> Verify SSL/TLS is enabled (recommended)</li>
                                                <li><strong>Firewall/network:</strong> Ensure port 993 (SSL) or 143 (non-SSL) is not blocked</li>
                                            </ol>
                                            
                                            <div class="alert alert-info">
                                                <h6><i class="fas fa-test-tube"></i> Test Your Connection</h6>
                                                <p class="mb-0">Use the "Test Connection" button in the account setup form to verify your credentials before saving the account configuration.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#ssl-certificate-errors">
                                            <i class="fas fa-certificate text-warning me-3"></i>SSL Certificate Errors
                                        </button>
                                    </h2>
                                    <div id="ssl-certificate-errors" class="accordion-collapse collapse" data-bs-parent="#connectionIssuesAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Symptoms:</strong> "SSL certificate verification failed", "Certificate error"</p>
                                            
                                            <h6><strong>Solutions:</strong></h6>
                                            <ul>
                                                <li><strong>Update system certificates:</strong> Ensure your server has current SSL certificates</li>
                                                <li><strong>Check server time:</strong> Incorrect system time can cause certificate validation failures</li>
                                                <li><strong>Corporate networks:</strong> Some corporate firewalls intercept SSL connections</li>
                                                <li><strong>Provider changes:</strong> Email providers occasionally update their SSL certificates</li>
                                            </ul>
                                            
                                            <div class="alert alert-warning">
                                                <strong>Security Note:</strong> Only disable SSL certificate verification as a last resort and temporary measure. Always re-enable it once the issue is resolved.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#timeout-issues">
                                            <i class="fas fa-clock text-info me-3"></i>Connection Timeouts
                                        </button>
                                    </h2>
                                    <div id="timeout-issues" class="accordion-collapse collapse" data-bs-parent="#connectionIssuesAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Symptoms:</strong> "Connection timeout", slow responses, intermittent failures</p>
                                            
                                            <h6><strong>Common Causes & Solutions:</strong></h6>
                                            <ul>
                                                <li><strong>Network congestion:</strong> Try running Mail-Rulez during off-peak hours</li>
                                                <li><strong>Provider rate limiting:</strong> Some email providers limit connection frequency</li>
                                                <li><strong>Large mailboxes:</strong> Processing thousands of emails can take time</li>
                                                <li><strong>Server resources:</strong> Ensure your server has adequate CPU and memory</li>
                                                <li><strong>Distance/latency:</strong> International connections may be slower</li>
                                            </ul>
                                            
                                            <div class="alert alert-info">
                                                <h6><i class="fas fa-cogs"></i> Adjustment Options</h6>
                                                <p class="mb-0">You can adjust processing intervals and batch sizes in the service configuration to reduce server load and improve reliability.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-folder-open text-warning"></i> Training Folder Issues</h3>
                            </div>

                            <p>Problems with training folders can prevent Mail-Rulez from learning your email preferences:</p>

                            <div class="accordion" id="trainingFolderIssuesAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#folders-not-created">
                                            <i class="fas fa-folder-plus text-warning me-3"></i>Training Folders Not Created
                                        </button>
                                    </h2>
                                    <div id="folders-not-created" class="accordion-collapse collapse show" data-bs-parent="#trainingFolderIssuesAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Symptoms:</strong> Cannot find <code>_whitelist</code>, <code>_blacklist</code>, <code>_vendor</code>, or <code>_headhunter</code> folders</p>
                                            
                                            <h6><strong>Solutions:</strong></h6>
                                            <ol>
                                                <li><strong>Check folder creation status:</strong> Go to Accounts  [Your Account]  "Create Folders"</li>
                                                <li><strong>Verify permissions:</strong> Ensure your IMAP account can create folders</li>
                                                <li><strong>Manual creation:</strong> Create folders manually in your email client if automatic creation fails</li>
                                                <li><strong>Check folder names:</strong> Ensure exact naming: <code>_whitelist</code>, <code>_blacklist</code>, <code>_vendor</code>, <code>_headhunter</code></li>
                                                <li><strong>Folder hierarchy:</strong> Some providers require folders under INBOX (e.g., <code>INBOX._whitelist</code>)</li>
                                            </ol>
                                            
                                            <div class="alert alert-info">
                                                <h6><i class="fas fa-lightbulb"></i> Provider-Specific Notes</h6>
                                                <ul class="mb-0">
                                                    <li><strong>Gmail:</strong> Folders appear as labels, may take a few minutes to sync</li>
                                                    <li><strong>Outlook:</strong> Folders created under Inbox by default</li>
                                                    <li><strong>Yahoo:</strong> May require manual folder creation in web interface</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#emails-not-processing">
                                            <i class="fas fa-envelope-open text-danger me-3"></i>Emails Not Processing from Training Folders
                                        </button>
                                    </h2>
                                    <div id="emails-not-processing" class="accordion-collapse collapse" data-bs-parent="#trainingFolderIssuesAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Symptoms:</strong> Emails moved to training folders remain there, no list updates</p>
                                            
                                            <h6><strong>Troubleshooting Steps:</strong></h6>
                                            <ol>
                                                <li><strong>Check service status:</strong> Verify Mail-Rulez processing service is running</li>
                                                <li><strong>Wait for processing cycle:</strong> Training folders are checked every 4 minutes</li>
                                                <li><strong>Check logs:</strong> Look for processing errors in the web interface logs</li>
                                                <li><strong>Verify folder permissions:</strong> Ensure Mail-Rulez can read from and move emails in training folders</li>
                                                <li><strong>Restart service:</strong> Stop and start the email processing service</li>
                                            </ol>
                                            
                                            <div class="alert alert-warning">
                                                <strong>Common Issue:</strong> If you move emails to training folders while Mail-Rulez is processing, there might be a brief delay. Wait for the next processing cycle.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#wrong-categorization">
                                            <i class="fas fa-random text-info me-3"></i>Emails Being Categorized Incorrectly
                                        </button>
                                    </h2>
                                    <div id="wrong-categorization" class="accordion-collapse collapse" data-bs-parent="#trainingFolderIssuesAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Symptoms:</strong> Important emails going to Junk, spam going to Processed, etc.</p>
                                            
                                            <h6><strong>Diagnosis & Solutions:</strong></h6>
                                            <ul>
                                                <li><strong>Check list conflicts:</strong> Same sender might be in multiple lists (blacklist overrides whitelist)</li>
                                                <li><strong>Review list entries:</strong> Use the web interface to examine and clean up list contents</li>
                                                <li><strong>Domain vs. address:</strong> Domain entries might override specific address entries</li>
                                                <li><strong>Recent changes:</strong> Training folder actions update lists immediately</li>
                                                <li><strong>Rule interference:</strong> Custom rules might override list-based categorization</li>
                                            </ul>
                                            
                                            <div class="alert alert-success">
                                                <h6><i class="fas fa-undo"></i> Quick Fix</h6>
                                                <p class="mb-0">Move incorrectly categorized emails to the appropriate training folder to retrain the system. The correction will take effect within 5 minutes.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-exchange-alt text-info"></i> Mode Transition Problems</h3>
                            </div>

                            <p>Issues when switching between startup and maintenance modes:</p>

                            <div class="accordion" id="modeTransitionAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#stuck-startup-mode">
                                            <i class="fas fa-play text-primary me-3"></i>Stuck in Startup Mode
                                        </button>
                                    </h2>
                                    <div id="stuck-startup-mode" class="accordion-collapse collapse show" data-bs-parent="#modeTransitionAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Symptoms:</strong> Mail-Rulez won't transition to maintenance mode automatically</p>
                                            
                                            <h6><strong>Transition Requirements:</strong></h6>
                                            <ul>
                                                <li>Pending folder has fewer than 50 emails</li>
                                                <li>Running in startup mode for at least 2 weeks</li>
                                                <li>Processing emails with less than 5% error rate</li>
                                                <li>No recent connection or processing errors</li>
                                            </ul>
                                            
                                            <h6><strong>Manual Solutions:</strong></h6>
                                            <ol>
                                                <li><strong>Clean up pending folder:</strong> Manually categorize unknown senders</li>
                                                <li><strong>Fix processing errors:</strong> Resolve any connection or permission issues</li>
                                                <li><strong>Wait longer:</strong> Some mailboxes need more time to stabilize</li>
                                                <li><strong>Force transition:</strong> Use the web interface to manually switch modes</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#maintenance-mode-issues">
                                            <i class="fas fa-cogs text-warning me-3"></i>Maintenance Mode Not Working
                                        </button>
                                    </h2>
                                    <div id="maintenance-mode-issues" class="accordion-collapse collapse" data-bs-parent="#modeTransitionAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Symptoms:</strong> New emails not being processed, inbox filling up again</p>
                                            
                                            <h6><strong>Check These Items:</strong></h6>
                                            <ul>
                                                <li><strong>Service status:</strong> Verify the processing service is running in maintenance mode</li>
                                                <li><strong>Processing intervals:</strong> Maintenance mode processes emails every 5 minutes</li>
                                                <li><strong>List completeness:</strong> Ensure your lists cover most common senders</li>
                                                <li><strong>Rule conflicts:</strong> Custom rules might interfere with list-based processing</li>
                                                <li><strong>Folder permissions:</strong> Check that Mail-Rulez can still access all folders</li>
                                            </ul>
                                            
                                            <div class="alert alert-info">
                                                <h6><i class="fas fa-chart-line"></i> Expected Behavior</h6>
                                                <p class="mb-0">In maintenance mode, whitelisted emails stay in your Inbox while blacklisted and vendor emails are automatically filed. Some manual sorting is normal.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-cogs text-secondary"></i> Processing Service Issues</h3>
                            </div>

                            <p>When the background email processing service encounters problems:</p>

                            <div class="accordion" id="serviceIssuesAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#service-not-starting">
                                            <i class="fas fa-play-circle text-danger me-3"></i>Service Won't Start
                                        </button>
                                    </h2>
                                    <div id="service-not-starting" class="accordion-collapse collapse show" data-bs-parent="#serviceIssuesAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Symptoms:</strong> Processing service shows "Stopped" or "Error" status</p>
                                            
                                            <h6><strong>Diagnostic Steps:</strong></h6>
                                            <ol>
                                                <li><strong>Check service logs:</strong> Look for specific error messages in the web interface</li>
                                                <li><strong>Verify account configuration:</strong> Ensure account credentials are correct</li>
                                                <li><strong>Test IMAP connection:</strong> Use the connection test feature</li>
                                                <li><strong>Check folder permissions:</strong> Verify all required folders exist and are accessible</li>
                                                <li><strong>Restart service:</strong> Stop and start the service to clear temporary issues</li>
                                            </ol>
                                            
                                            <div class="alert alert-warning">
                                                <strong>Security Lock:</strong> After 5 consecutive errors, the service will stop automatically to prevent account lockouts. Fix the underlying issue before restarting.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#service-frequent-errors">
                                            <i class="fas fa-exclamation-circle text-warning me-3"></i>Frequent Processing Errors
                                        </button>
                                    </h2>
                                    <div id="service-frequent-errors" class="accordion-collapse collapse" data-bs-parent="#serviceIssuesAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Symptoms:</strong> Service runs but shows high error rates or frequent restarts</p>
                                            
                                            <h6><strong>Common Causes & Solutions:</strong></h6>
                                            <ul>
                                                <li><strong>Network instability:</strong> Check your internet connection stability</li>
                                                <li><strong>Provider rate limiting:</strong> Reduce processing frequency or batch sizes</li>
                                                <li><strong>Large email attachments:</strong> Some emails might timeout during processing</li>
                                                <li><strong>Corrupted emails:</strong> Malformed emails can cause processing failures</li>
                                                <li><strong>System resources:</strong> Ensure adequate CPU and memory are available</li>
                                            </ul>
                                            
                                            <div class="alert alert-info">
                                                <h6><i class="fas fa-chart-bar"></i> Monitoring Tips</h6>
                                                <p class="mb-0">Monitor the error rate in the dashboard. Rates above 5% indicate issues that need attention. Temporary spikes are normal during network issues.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-search text-info"></i> Getting Detailed Diagnostic Information</h3>
                            </div>

                            <p>For complex issues, gather detailed information to help with troubleshooting:</p>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-header bg-info text-white">
                                            <h6 class="mb-0"><i class="fas fa-file-alt"></i> Log Files to Check</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>Application logs:</strong> Main processing errors and status</li>
                                                <li><strong>Security logs:</strong> Authentication and access issues</li>
                                                <li><strong>Connection logs:</strong> IMAP connection attempts and failures</li>
                                                <li><strong>Processing logs:</strong> Email categorization and folder operations</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-header bg-success text-white">
                                            <h6 class="mb-0"><i class="fas fa-info-circle"></i> Information to Collect</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>Email provider:</strong> Gmail, Outlook, Yahoo, etc.</li>
                                                <li><strong>Installation method:</strong> Docker, virtual environment, local</li>
                                                <li><strong>Error messages:</strong> Exact text of error messages</li>
                                                <li><strong>Timing:</strong> When the issue started occurring</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-4">
                                <div class="card">
                                    <div class="card-header bg-light">
                                        <h6 class="mb-0"><i class="fas fa-terminal"></i> Useful Diagnostic Commands</h6>
                                    </div>
                                    <div class="card-body">
                                        <h6><strong>For Docker Installations:</strong></h6>
                                        <div class="code-block">
# Check container status
docker ps -a | grep mail-rulez

# View container logs
docker logs mail-rulez-container

# Access container for debugging
docker exec -it mail-rulez-container bash
                                        </div>
                                        
                                        <h6><strong>For Local Installations:</strong></h6>
                                        <div class="code-block">
# Check Python dependencies
pip list | grep -E "(imap|email|flask)"

# Test mail server connectivity
telnet imap.gmail.com 993

# Check system resources
free -h && df -h
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Navigation -->
                            <div class="row mt-5">
                                <div class="col-md-6">
                                    <div class="card border-light">
                                        <div class="card-body text-center">
                                            <p class="mb-0"><i class="fas fa-arrow-left text-muted"></i> <strong>Previous:</strong> <a href="#list-management" class="nav-link d-inline p-0" data-section="list-management">List Management</a></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-light">
                                        <div class="card-body text-center">
                                            <p class="mb-0"><strong>Next:</strong> <a href="#security" class="nav-link d-inline p-0" data-section="security">Security</a> <i class="fas fa-arrow-right text-muted"></i></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-4">
                            <div class="sticky-top">
                                <div class="card">
                                    <div class="card-header bg-danger text-white">
                                        <h6 class="mb-0"><i class="fas fa-first-aid"></i> Quick Fixes</h6>
                                    </div>
                                    <div class="card-body">
                                        <h6><strong>Can't Login?</strong></h6>
                                        <p class="small">Use password reset at <code>/auth/password-reset/request</code> or run <code>python admin_password_reset.py</code></p>
                                        
                                        <h6><strong>Connection Failed?</strong></h6>
                                        <p class="small">Check server address, port, and app password. Test connection before saving.</p>
                                        
                                        <h6><strong>Emails Not Moving?</strong></h6>
                                        <p class="small">Wait 4-5 minutes for processing cycle. Check service status and logs.</p>
                                        
                                        <h6><strong>Wrong Categorization?</strong></h6>
                                        <p class="small">Move email to correct training folder. Check for list conflicts in web interface.</p>
                                    </div>
                                </div>
                                
                                <div class="card mt-3">
                                    <div class="card-header bg-warning text-dark">
                                        <h6 class="mb-0"><i class="fas fa-tools"></i> Emergency Steps</h6>
                                    </div>
                                    <div class="card-body">
                                        <ol class="small">
                                            <li>Check service status in dashboard</li>
                                            <li>Review recent logs for errors</li>
                                            <li>Test IMAP connection</li>
                                            <li>Restart processing service</li>
                                            <li>If still stuck, restart Mail-Rulez</li>
                                        </ol>
                                    </div>
                                </div>
                                
                                <div class="card mt-3">
                                    <div class="card-header bg-info text-white">
                                        <h6 class="mb-0"><i class="fas fa-life-ring"></i> Get Help</h6>
                                    </div>
                                    <div class="card-body">
                                        <p class="card-text small">For issues not covered here:</p>
                                        <ul class="small">
                                            <li>Check application logs in web interface</li>
                                            <li>Note exact error messages</li>
                                            <li>Document steps to reproduce</li>
                                            <li>Include your email provider details</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="security" class="content-section">
                    <h2><i class="fas fa-shield-alt text-primary"></i> Security</h2>
                    
                    <div class="row">
                        <div class="col-lg-8">
                            <p class="lead">Mail-Rulez is designed with security as a core principle. Whether you're self-hosting or using RealPM's hosted service, your email data and credentials are protected through multiple layers of security.</p>
                            
                            <div class="alert alert-success">
                                <h6><i class="fas fa-shield-check"></i> Security Philosophy</h6>
                                <p class="mb-0">Mail-Rulez processes your emails <strong>locally</strong> or on infrastructure you control. Your email content never passes through third-party services, and your IMAP credentials are encrypted and stored securely.</p>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-server text-primary"></i> Local vs. Hosted Deployment Security</h3>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card border-primary h-100">
                                        <div class="card-header bg-primary text-white">
                                            <h6 class="mb-0"><i class="fas fa-home"></i> Self-Hosted Security</h6>
                                        </div>
                                        <div class="card-body">
                                            <h6><strong>Advantages:</strong></h6>
                                            <ul>
                                                <li>Complete control over your data</li>
                                                <li>No third-party access to emails</li>
                                                <li>Custom security configurations</li>
                                                <li>Network isolation capabilities</li>
                                                <li>Direct IMAP connections</li>
                                            </ul>
                                            
                                            <h6><strong>Your Responsibilities:</strong></h6>
                                            <ul>
                                                <li>Server security and updates</li>
                                                <li>Network firewall configuration</li>
                                                <li>SSL certificate management</li>
                                                <li>Backup and disaster recovery</li>
                                                <li>Access control and monitoring</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-success h-100">
                                        <div class="card-header bg-success text-white">
                                            <h6 class="mb-0"><i class="fas fa-cloud"></i> RealPM Hosted Security</h6>
                                        </div>
                                        <div class="card-body">
                                            <h6><strong>Professional Infrastructure:</strong></h6>
                                            <ul>
                                                <li>Enterprise-grade data centers</li>
                                                <li>24/7 security monitoring</li>
                                                <li>Automated security updates</li>
                                                <li>Professional backup systems</li>
                                                <li>DDoS protection and firewalls</li>
                                            </ul>
                                            
                                            <h6><strong>Managed Services:</strong></h6>
                                            <ul>
                                                <li>Security patch management</li>
                                                <li>Infrastructure monitoring</li>
                                                <li>Automated failover systems</li>
                                                <li>Compliance certifications</li>
                                                <li>Professional support team</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-lock text-warning"></i> Data Protection & Encryption</h3>
                            </div>

                            <p>Mail-Rulez implements multiple layers of encryption to protect your sensitive information:</p>

                            <div class="accordion" id="encryptionAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#credential-encryption">
                                            <i class="fas fa-key text-primary me-3"></i>IMAP Credential Encryption
                                        </button>
                                    </h2>
                                    <div id="credential-encryption" class="accordion-collapse collapse show" data-bs-parent="#encryptionAccordion">
                                        <div class="accordion-body">
                                            <p><strong>How Your Email Passwords Are Protected:</strong></p>
                                            <ul>
                                                <li><strong>Master Key Encryption:</strong> All IMAP credentials are encrypted using a master key</li>
                                                <li><strong>Secure Storage:</strong> Encrypted credentials stored in <code>secure_config.json</code></li>
                                                <li><strong>Memory Protection:</strong> Credentials decrypted only when needed for connections</li>
                                                <li><strong>No Plain Text:</strong> Passwords never stored in readable format</li>
                                                <li><strong>Environment Variables:</strong> Master key can be stored separately from application</li>
                                            </ul>
                                            
                                            <div class="alert alert-info">
                                                <h6><i class="fas fa-lightbulb"></i> Security Tip</h6>
                                                <p class="mb-0">Use app-specific passwords instead of your main email password. These can be revoked without changing your primary credentials and provide better access control.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#transport-encryption">
                                            <i class="fas fa-shield-alt text-success me-3"></i>Transport Layer Security
                                        </button>
                                    </h2>
                                    <div id="transport-encryption" class="accordion-collapse collapse" data-bs-parent="#encryptionAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Protecting Data in Transit:</strong></p>
                                            <ul>
                                                <li><strong>IMAP over SSL/TLS:</strong> All email server connections use encrypted protocols</li>
                                                <li><strong>HTTPS Web Interface:</strong> Web dashboard secured with SSL certificates</li>
                                                <li><strong>Certificate Validation:</strong> Automatic verification of server certificates</li>
                                                <li><strong>Strong Cipher Suites:</strong> Modern encryption algorithms only</li>
                                                <li><strong>Perfect Forward Secrecy:</strong> Session keys cannot be compromised retroactively</li>
                                            </ul>
                                            
                                            <div class="alert alert-warning">
                                                <h6><i class="fas fa-exclamation-triangle"></i> Network Security</h6>
                                                <p class="mb-0">Avoid connecting to email servers over unsecured networks. Use VPN when accessing Mail-Rulez from public WiFi or untrusted networks.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#data-at-rest">
                                            <i class="fas fa-database text-info me-3"></i>Data at Rest Protection
                                        </button>
                                    </h2>
                                    <div id="data-at-rest" class="accordion-collapse collapse" data-bs-parent="#encryptionAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Local Data Security:</strong></p>
                                            <ul>
                                                <li><strong>Configuration Encryption:</strong> Account settings encrypted on disk</li>
                                                <li><strong>List File Protection:</strong> Sender lists stored securely</li>
                                                <li><strong>Log File Security:</strong> Sensitive information filtered from logs</li>
                                                <li><strong>Temporary File Cleanup:</strong> Automatic removal of temporary data</li>
                                                <li><strong>File System Permissions:</strong> Restricted access to application files</li>
                                            </ul>
                                            
                                            <div class="alert alert-success">
                                                <h6><i class="fas fa-info-circle"></i> Email Content Policy</h6>
                                                <p class="mb-0">Mail-Rulez <strong>does not store email content</strong> locally. Only metadata (sender, subject, classification) is retained for processing rules and analytics.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-user-shield text-success"></i> Access Control & Authentication</h3>
                            </div>

                            <p>Mail-Rulez implements robust authentication and access control mechanisms:</p>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-header bg-success text-white">
                                            <h6 class="mb-0"><i class="fas fa-sign-in-alt"></i> Authentication Features</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>Secure Password Hashing:</strong> Bcrypt with salt for admin passwords</li>
                                                <li><strong>Session Management:</strong> Secure session tokens with expiration</li>
                                                <li><strong>CSRF Protection:</strong> Cross-site request forgery prevention</li>
                                                <li><strong>Password Reset Tokens:</strong> Encrypted, time-limited reset capability</li>
                                                <li><strong>Failed Login Protection:</strong> Automatic lockout after attempts</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-header bg-primary text-white">
                                            <h6 class="mb-0"><i class="fas fa-lock"></i> Access Control</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>Admin-Only Access:</strong> All configuration requires authentication</li>
                                                <li><strong>Role-Based Security:</strong> Granular permissions for different functions</li>
                                                <li><strong>API Security:</strong> Protected endpoints with authentication</li>
                                                <li><strong>File System Isolation:</strong> Application runs with minimal privileges</li>
                                                <li><strong>Network Binding:</strong> Configurable interface binding for security</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-eye text-info"></i> Privacy & Data Handling</h3>
                            </div>

                            <p>Your privacy is fundamental to Mail-Rulez's design and operation:</p>

                            <div class="card">
                                <div class="card-header bg-light">
                                    <h6 class="mb-0"><i class="fas fa-user-secret"></i> Privacy Commitments</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6><strong>What We DON'T Do:</strong></h6>
                                            <ul>
                                                <li>Store or read your email content</li>
                                                <li>Share your data with third parties</li>
                                                <li>Analyze your emails for advertising</li>
                                                <li>Track your email usage patterns</li>
                                                <li>Retain unnecessary personal information</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><strong>What We DO:</strong></h6>
                                            <ul>
                                                <li>Process emails locally on your infrastructure</li>
                                                <li>Store only configuration and sender lists</li>
                                                <li>Encrypt all stored credentials</li>
                                                <li>Provide audit logs for transparency</li>
                                                <li>Enable complete data deletion</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-info mt-4">
                                <h6><i class="fas fa-balance-scale"></i> GDPR & Compliance</h6>
                                <p class="mb-0">Mail-Rulez is designed to support GDPR compliance through data minimization, encryption, and the right to deletion. For hosted services, RealPM maintains comprehensive compliance documentation.</p>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-shield-virus text-danger"></i> Threat Protection</h3>
                            </div>

                            <p>Mail-Rulez includes protection against common security threats:</p>

                            <div class="accordion" id="threatProtectionAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#injection-protection">
                                            <i class="fas fa-syringe text-danger me-3"></i>Injection Attack Prevention
                                        </button>
                                    </h2>
                                    <div id="injection-protection" class="accordion-collapse collapse show" data-bs-parent="#threatProtectionAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Protection Mechanisms:</strong></p>
                                            <ul>
                                                <li><strong>Input Validation:</strong> All user inputs validated and sanitized</li>
                                                <li><strong>SQL Injection Prevention:</strong> Parameterized queries and ORM usage</li>
                                                <li><strong>Command Injection Protection:</strong> No direct system command execution</li>
                                                <li><strong>Path Traversal Prevention:</strong> Restricted file system access</li>
                                                <li><strong>XSS Protection:</strong> Content Security Policy and output escaping</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#dos-protection">
                                            <i class="fas fa-shield text-warning me-3"></i>Denial of Service Protection
                                        </button>
                                    </h2>
                                    <div id="dos-protection" class="accordion-collapse collapse" data-bs-parent="#threatProtectionAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Availability Protections:</strong></p>
                                            <ul>
                                                <li><strong>Rate Limiting:</strong> Connection and request throttling</li>
                                                <li><strong>Resource Management:</strong> CPU and memory usage controls</li>
                                                <li><strong>Connection Timeouts:</strong> Automatic cleanup of stale connections</li>
                                                <li><strong>Error Recovery:</strong> Graceful handling of service failures</li>
                                                <li><strong>Circuit Breakers:</strong> Automatic service protection during overload</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#email-security">
                                            <i class="fas fa-envelope-open-text text-info me-3"></i>Email-Specific Security
                                        </button>
                                    </h2>
                                    <div id="email-security" class="accordion-collapse collapse" data-bs-parent="#threatProtectionAccordion">
                                        <div class="accordion-body">
                                            <p><strong>Email Processing Security:</strong></p>
                                            <ul>
                                                <li><strong>Malicious Attachment Protection:</strong> No automatic execution of attachments</li>
                                                <li><strong>Header Validation:</strong> Email header parsing with security checks</li>
                                                <li><strong>Encoding Safety:</strong> Proper handling of various email encodings</li>
                                                <li><strong>Phishing Detection:</strong> Suspicious sender pattern recognition</li>
                                                <li><strong>Content Filtering:</strong> Safe processing of potentially harmful content</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-cogs text-secondary"></i> Security Configuration</h3>
                            </div>

                            <p>Configure Mail-Rulez security settings to match your requirements:</p>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-header bg-secondary text-white">
                                            <h6 class="mb-0"><i class="fas fa-sliders-h"></i> Configuration Options</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>SSL/TLS Settings:</strong> Configure encryption requirements</li>
                                                <li><strong>Session Timeouts:</strong> Customize authentication duration</li>
                                                <li><strong>Network Binding:</strong> Restrict interface access</li>
                                                <li><strong>Log Levels:</strong> Control information logging</li>
                                                <li><strong>Backup Encryption:</strong> Secure configuration backups</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-header bg-warning text-dark">
                                            <h6 class="mb-0"><i class="fas fa-exclamation-triangle"></i> Security Best Practices</h6>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>Strong Passwords:</strong> Use complex admin passwords</li>
                                                <li><strong>Regular Updates:</strong> Keep Mail-Rulez updated</li>
                                                <li><strong>Network Security:</strong> Use firewalls and VPNs</li>
                                                <li><strong>Access Logging:</strong> Monitor authentication events</li>
                                                <li><strong>Backup Security:</strong> Encrypt configuration backups</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-file-alt text-primary"></i> Security Auditing & Compliance</h3>
                            </div>

                            <p>Mail-Rulez provides comprehensive logging and auditing capabilities:</p>

                            <div class="card">
                                <div class="card-header bg-light">
                                    <h6 class="mb-0"><i class="fas fa-clipboard-list"></i> Audit Trail Features</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <h6><strong>Authentication Logs</strong></h6>
                                            <ul>
                                                <li>Login attempts and failures</li>
                                                <li>Password reset activities</li>
                                                <li>Session creation and expiration</li>
                                                <li>Access control decisions</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-4">
                                            <h6><strong>Configuration Changes</strong></h6>
                                            <ul>
                                                <li>Account additions and modifications</li>
                                                <li>Rule and list updates</li>
                                                <li>Security setting changes</li>
                                                <li>Service start/stop events</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-4">
                                            <h6><strong>Processing Activity</strong></h6>
                                            <ul>
                                                <li>Email categorization decisions</li>
                                                <li>IMAP connection events</li>
                                                <li>Error conditions and recovery</li>
                                                <li>Performance and resource usage</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-success mt-4">
                                <h6><i class="fas fa-certificate"></i> Hosted Service Compliance</h6>
                                <p class="mb-0">RealPM's hosted Mail-Rulez service maintains SOC 2 Type II compliance, regular security audits, and comprehensive documentation for enterprise security requirements.</p>
                            </div>

                            <div class="mt-5 mb-4">
                                <h3><i class="fas fa-question-circle text-info"></i> Security FAQ</h3>
                            </div>

                            <div class="accordion" id="securityFaqAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq-credentials">
                                            <i class="fas fa-key text-primary me-3"></i>How are my email credentials protected?
                                        </button>
                                    </h2>
                                    <div id="faq-credentials" class="accordion-collapse collapse show" data-bs-parent="#securityFaqAccordion">
                                        <div class="accordion-body">
                                            <p>Your IMAP credentials are encrypted using industry-standard encryption before being stored. The encryption key is stored separately and can be protected with environment variables. Even if someone gains access to the configuration files, they cannot read your passwords without the encryption key.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq-email-content">
                                            <i class="fas fa-envelope text-success me-3"></i>Does Mail-Rulez store my email content?
                                        </button>
                                    </h2>
                                    <div id="faq-email-content" class="accordion-collapse collapse" data-bs-parent="#securityFaqAccordion">
                                        <div class="accordion-body">
                                            <p>No. Mail-Rulez only stores metadata needed for categorization (sender addresses, subjects for rules) and your configuration preferences. Email content remains on your email server and is processed in memory only during categorization.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq-network-security">
                                            <i class="fas fa-network-wired text-warning me-3"></i>What network security should I implement?
                                        </button>
                                    </h2>
                                    <div id="faq-network-security" class="accordion-collapse collapse" data-bs-parent="#securityFaqAccordion">
                                        <div class="accordion-body">
                                            <p>For self-hosted deployments: Use firewalls to restrict access to Mail-Rulez ports, implement VPN access for remote administration, keep the server updated, and use HTTPS with valid SSL certificates. Consider placing Mail-Rulez behind a reverse proxy for additional security.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq-compliance">
                                            <i class="fas fa-balance-scale text-info me-3"></i>Is Mail-Rulez suitable for compliance requirements?
                                        </button>
                                    </h2>
                                    <div id="faq-compliance" class="accordion-collapse collapse" data-bs-parent="#securityFaqAccordion">
                                        <div class="accordion-body">
                                            <p>Yes. Mail-Rulez supports GDPR through data minimization and encryption. For industries with specific compliance needs (HIPAA, SOX, etc.), the self-hosted option provides complete control over data handling. RealPM's hosted service maintains professional compliance certifications.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Navigation -->
                            <div class="row mt-5">
                                <div class="col-md-6">
                                    <div class="card border-light">
                                        <div class="card-body text-center">
                                            <p class="mb-0"><i class="fas fa-arrow-left text-muted"></i> <strong>Previous:</strong> <a href="#troubleshooting" class="nav-link d-inline p-0" data-section="troubleshooting">Troubleshooting</a></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-light">
                                        <div class="card-body text-center">
                                            <p class="mb-0 text-muted">End of Documentation</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-4">
                            <div class="sticky-top">
                                <div class="card">
                                    <div class="card-header bg-success text-white">
                                        <h6 class="mb-0"><i class="fas fa-shield-check"></i> Security Summary</h6>
                                    </div>
                                    <div class="card-body">
                                        <h6><strong>Data Protection</strong></h6>
                                        <ul class="small">
                                            <li>Encrypted credential storage</li>
                                            <li>SSL/TLS for all connections</li>
                                            <li>No email content retention</li>
                                            <li>Secure session management</li>
                                        </ul>
                                        
                                        <h6><strong>Access Control</strong></h6>
                                        <ul class="small">
                                            <li>Admin authentication required</li>
                                            <li>CSRF protection enabled</li>
                                            <li>Failed login lockouts</li>
                                            <li>Audit trail logging</li>
                                        </ul>
                                        
                                        <h6><strong>Privacy</strong></h6>
                                        <ul class="small">
                                            <li>Local processing only</li>
                                            <li>No third-party data sharing</li>
                                            <li>GDPR compliance support</li>
                                            <li>Complete data deletion</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="card mt-3">
                                    <div class="card-header bg-warning text-dark">
                                        <h6 class="mb-0"><i class="fas fa-exclamation-triangle"></i> Security Checklist</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-check small">
                                            <input class="form-check-input" type="checkbox" id="check1">
                                            <label class="form-check-label" for="check1">Use app passwords for email accounts</label>
                                        </div>
                                        <div class="form-check small">
                                            <input class="form-check-input" type="checkbox" id="check2">
                                            <label class="form-check-label" for="check2">Enable HTTPS for web interface</label>
                                        </div>
                                        <div class="form-check small">
                                            <input class="form-check-input" type="checkbox" id="check3">
                                            <label class="form-check-label" for="check3">Configure firewall rules</label>
                                        </div>
                                        <div class="form-check small">
                                            <input class="form-check-input" type="checkbox" id="check4">
                                            <label class="form-check-label" for="check4">Set strong admin password</label>
                                        </div>
                                        <div class="form-check small">
                                            <input class="form-check-input" type="checkbox" id="check5">
                                            <label class="form-check-label" for="check5">Regular security updates</label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="card mt-3">
                                    <div class="card-header bg-info text-white">
                                        <h6 class="mb-0"><i class="fas fa-phone-alt"></i> Security Support</h6>
                                    </div>
                                    <div class="card-body">
                                        <p class="card-text small">For security questions or to report vulnerabilities:</p>
                                        <ul class="small">
                                            <li>Review security logs in web interface</li>
                                            <li>Check audit trail for unusual activity</li>
                                            <li>Contact RealPM for hosted service security</li>
                                            <li>Report vulnerabilities responsibly</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link[data-section]');
            const sections = document.querySelectorAll('.content-section');

            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all nav links and sections
                    navLinks.forEach(nl => nl.classList.remove('active'));
                    sections.forEach(section => section.classList.remove('active'));
                    
                    // Add active class to clicked nav link
                    this.classList.add('active');
                    
                    // Show corresponding section
                    const sectionId = this.getAttribute('data-section');
                    const targetSection = document.getElementById(sectionId);
                    if (targetSection) {
                        targetSection.classList.add('active');
                    }
                });
            });
        });
    </script>
</body>
</html>